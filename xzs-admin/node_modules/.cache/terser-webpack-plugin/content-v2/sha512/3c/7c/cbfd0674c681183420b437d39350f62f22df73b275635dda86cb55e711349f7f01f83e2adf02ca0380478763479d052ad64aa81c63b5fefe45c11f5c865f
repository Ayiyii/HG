{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a85d3c1e\"],{\"06d9\":function(e,t,a){\"use strict\";a(\"b7b3\")},\"129f\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},\"294d\":function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{\"line-height\":\"1.8\"}},[1==e.qType||2==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",domProps:{innerHTML:e._s(e.question.title)}}),e.question.imagePath?a(\"img\",{attrs:{id:\"videoId\",src:e.question.imagePath,width:\"100%\"}}):e._e(),e.question.videoPath?a(\"video\",{attrs:{id:\"videoId\",src:e.question.videoPath,controls:\"\",width:\"100%\"}}):e._e(),e.question.audioPath?a(\"audio\",{attrs:{id:\"audioId\",src:e.question.audioPath,controls:\"\",width:\"100%\"}}):e._e(),a(\"div\",{staticClass:\"q-content\"},e._l(e.question.items,(function(t){return a(\"span\",{key:t.id,staticClass:\"q-item-contain\"},[a(\"span\",{staticClass:\"q-item-prefix\"},[e._v(e._s(t.prefix))]),a(\"span\",{staticClass:\"q-item-content\",domProps:{innerHTML:e._s(t.content)}})])})),0)]):3==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",staticStyle:{display:\"inline\",\"margin-right\":\"10px\"},domProps:{innerHTML:e._s(e.question.title)}}),e.question.imagePath?a(\"img\",{attrs:{id:\"videoId\",src:e.question.imagePath,width:\"100%\"}}):e._e(),e.question.videoPath?a(\"video\",{attrs:{id:\"videoId\",src:e.question.videoPath,controls:\"\",width:\"100%\"}}):e._e(),e.question.audioPath?a(\"audio\",{attrs:{id:\"audioId\",src:e.question.audioPath,controls:\"\",width:\"100%\"}}):e._e(),a(\"span\",[e._v(\"（\")]),e._l(e.question.items,(function(t){return a(\"span\",{key:t.id},[a(\"span\",{staticClass:\"q-item-content\",domProps:{innerHTML:e._s(t.content)}})])})),a(\"span\",[e._v(\"）\")])],2):4==e.qType||5==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",domProps:{innerHTML:e._s(e.question.title)}}),e.question.imagePath?a(\"img\",{attrs:{id:\"videoId\",src:e.question.imagePath,width:\"100%\"}}):e._e(),e.question.videoPath?a(\"video\",{attrs:{id:\"videoId\",src:e.question.videoPath,controls:\"\",width:\"100%\"}}):e._e(),e.question.audioPath?a(\"audio\",{attrs:{id:\"audioId\",src:e.question.audioPath,controls:\"\",width:\"100%\"}}):e._e()]):a(\"div\")])},n=[],s=(a(\"a9e3\"),{name:\"QuestionShow\",props:{question:{type:Object,default:function(){return{}}},qLoading:{type:Boolean,default:!1},qType:{type:Number,default:0}},methods:{}}),l=s,o=a(\"2877\"),r=Object(o[\"a\"])(l,i,n,!1,null,null,null);t[\"a\"]=r.exports},\"2ac8\":function(e,t,a){\"use strict\";var i=a(\"b775\");t[\"a\"]={pageList:function(e){return Object(i[\"a\"])(\"/api/admin/question/page\",e)},edit:function(e){return Object(i[\"a\"])(\"/api/admin/question/edit\",e)},select:function(e){return Object(i[\"a\"])(\"/api/admin/question/select/\"+e)},deleteQuestion:function(e){return Object(i[\"a\"])(\"/api/admin/question/delete/\"+e)},imagePost:function(e){return Object(i[\"a\"])(\"/api/admin/upload/image\",e)},audioPost:function(e){return Object(i[\"a\"])(\"/api/admin/upload/audio\",e)},videoPost:function(e){return Object(i[\"a\"])(\"/api/admin/upload/video\",e)},chapterList:function(e){return Object(i[\"a\"])(\"/api/admin/chapter/list\",e)},insertChapter:function(e){return Object(i[\"a\"])(\"/api/admin/chapter/insert\",e)},selectCha:function(e){return Object(i[\"a\"])(\" /api/admin/chapter/get/\"+e)}}},\"333d\":function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[a(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},n=[];a(\"a9e3\");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,a){var i=o(),n=e-i,r=20,u=0;t=\"undefined\"===typeof t?500:t;var c=function e(){u+=r;var o=Math.easeInOutQuad(u,i,n,t);l(o),u<t?s(e):a&&\"function\"===typeof a&&a()};c()}var u={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&r(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&r(0,800)}}},c=u,m=(a(\"39d5\"),a(\"2877\")),p=Object(m[\"a\"])(c,i,n,!1,null,\"90fd946a\",null);t[\"a\"]=p.exports},\"39d5\":function(e,t,a){\"use strict\";a(\"6b4c\")},\"4a0c\":function(e,t,a){\"use strict\";var i=a(\"b775\");t[\"a\"]={pageList:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/page\",e)},taskExamPage:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/taskExamPage\",e)},edit:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/edit\",e)},select:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/select/\"+e)},deletePaper:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/delete/\"+e)},auto:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/random\",e)},studentPage:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/pageList\",e)},examPage:function(e){return Object(i[\"a\"])(\"/api/admin/exam/paper/pageList2\",e)},group:function(e){return Object(i[\"a\"])(\"/api/admin/task/page\",e)},selectTask:function(e){return Object(i[\"a\"])(\"/api/admin/task/select/\"+e)}}},\"6b4c\":function(e,t,a){},\"841c\":function(e,t,a){\"use strict\";var i=a(\"d784\"),n=a(\"825a\"),s=a(\"1d80\"),l=a(\"129f\"),o=a(\"14c3\");i(\"search\",1,(function(e,t,a){return[function(t){var a=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a):new RegExp(t)[e](String(a))},function(e){var i=a(t,e,this);if(i.done)return i.value;var s=n(e),r=String(this),u=s.lastIndex;l(u,0)||(s.lastIndex=0);var c=o(s,r);return l(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))},b7b3:function(e,t,a){},beb3:function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.formLoading,expression:\"formLoading\"}],ref:\"form\",attrs:{model:e.form,\"label-width\":\"100px\",rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"班级：\",prop:\"level\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"年级\"},on:{change:e.levelChange},model:{value:e.form.level,callback:function(t){e.$set(e.form,\"level\",t)},expression:\"form.level\"}},e._l(e.levelEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"课程：\",prop:\"subjectId\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"学科\"},model:{value:e.form.subjectId,callback:function(t){e.$set(e.form,\"subjectId\",t)},expression:\"form.subjectId\"}},e._l(e.subjectFilter,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.id,label:e.name+\" ( \"+e.levelName+\" )\"}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"试卷类型：\",prop:\"paperType\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"试卷类型\"},model:{value:e.form.paperType,callback:function(t){e.$set(e.form,\"paperType\",t)},expression:\"form.paperType\"}},e._l(e.paperTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:4===e.form.paperType,expression:\"form.paperType===4\"}],attrs:{label:\"时间限制：\",required:\"\"}},[a(\"el-date-picker\",{attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",type:\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.form.limitDateTime,callback:function(t){e.$set(e.form,\"limitDateTime\",t)},expression:\"form.limitDateTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"试卷名称：\",prop:\"name\",required:\"\"}},[a(\"el-input\",{model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"建议时长：\",prop:\"suggestTime\",required:\"\"}},[a(\"el-input\",{attrs:{placeholder:\"分钟\"},model:{value:e.form.suggestTime,callback:function(t){e.$set(e.form,\"suggestTime\",t)},expression:\"form.suggestTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"试卷总分：\",prop:\"scores\",required:\"\"}},[a(\"el-input\",{model:{value:e.scores,callback:function(t){e.scores=t},expression:\"scores\"}})],1),a(\"el-form-item\",{attrs:{label:\"模板选择：\",prop:\"titleItems\"}},[a(\"el-button\",{attrs:{round:\"\"},on:{click:e.tClick1}},[e._v(\"一\")]),a(\"el-button\",{attrs:{round:\"\"},on:{click:e.tClick2}},[e._v(\"二\")]),a(\"el-button\",{attrs:{round:\"\"},on:{click:e.tClick3}},[e._v(\"三\")])],1),e._l(e.form.titleItems,(function(t,i){return a(\"el-form-item\",{key:i,attrs:{label:\"题目\"+(i+1)+\"：\",required:\"\"}},[a(\"el-input\",{staticStyle:{width:\"80%\"},model:{value:t.name,callback:function(a){e.$set(t,\"name\",a)},expression:\"titleItem.name\"}}),a(\"el-input\",{staticStyle:{width:\"18%\",\"margin-left\":\"2%\"},attrs:{placeholder:\"设置每题分数\"},model:{value:t.score,callback:function(a){e.$set(t,\"score\",a)},expression:\"titleItem.score\"}}),a(\"el-button\",{staticClass:\"link-left\",staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"text\",size:\"mini\"},on:{click:function(a){return e.addQuestion(t)}}},[e._v(\" 添加题目 \")]),a(\"el-button\",{staticClass:\"link-left\",attrs:{type:\"text\",size:\"mini\"},on:{click:function(t){return e.form.titleItems.splice(i,1)}}},[e._v(\"删除\")]),0!==t.questionItems.length?a(\"el-card\",{staticClass:\"exampaper-item-box\"},e._l(t.questionItems,(function(i,n){return a(\"el-form-item\",{key:n,staticStyle:{\"margin-bottom\":\"15px\"},attrs:{label:\"题目\"+(n+1)+\"：\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:23}},[a(\"QuestionShow\",{attrs:{qType:i.questionType,question:i}})],1),a(\"el-col\",{attrs:{span:1}},[a(\"el-button\",{attrs:{type:\"text\",size:\"mini\"},on:{click:function(e){return t.questionItems.splice(n,1)}}},[e._v(\"删除 \")])],1)],1)],1)})),1):e._e()],1)})),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"提交\")]),a(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重置\")]),a(\"el-button\",{attrs:{type:\"success\"},on:{click:e.addTitle}},[e._v(\"添加题目\")]),a(\"el-button\",{attrs:{type:\"success\"},on:{click:e.addAuto}},[e._v(\"自动组卷\")])],1)],2),a(\"el-dialog\",{attrs:{visible:e.questionPage.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.questionPage,\"showDialog\",t)}}},[a(\"el-form\",{ref:\"queryForm\",attrs:{model:e.questionPage.queryParam,inline:!0}},[a(\"el-form-item\",{attrs:{label:\"ID：\"}},[a(\"el-input\",{attrs:{clearable:\"\"},model:{value:e.questionPage.queryParam.id,callback:function(t){e.$set(e.questionPage.queryParam,\"id\",t)},expression:\"questionPage.queryParam.id\"}})],1),a(\"el-form-item\",{attrs:{label:\"题型：\"}},[a(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.questionPage.queryParam.questionType,callback:function(t){e.$set(e.questionPage.queryParam,\"questionType\",t)},expression:\"questionPage.queryParam.questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"知识点：\"}},[a(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.questionPage.queryParam.chapterId,callback:function(t){e.$set(e.questionPage.queryParam,\"chapterId\",t)},expression:\"questionPage.queryParam.chapterId\"}},e._l(e.chapters,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.queryForm}},[e._v(\"查询\")])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.questionPage.listLoading,expression:\"questionPage.listLoading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.questionPage.tableData,border:\"\",fit:\"\",\"highlight-current-row\":\"\"},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"35\"}}),a(\"el-table-column\",{attrs:{prop:\"id\",label:\"Id\",width:\"60px\"}}),a(\"el-table-column\",{attrs:{prop:\"questionType\",label:\"题型\",formatter:e.questionTypeFormatter,width:\"70px\"}}),a(\"el-table-column\",{attrs:{prop:\"shortTitle\",label:\"题干\",\"show-overflow-tooltip\":\"\"}})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.questionPage.total>0,expression:\"questionPage.total>0\"}],attrs:{total:e.questionPage.total,page:e.questionPage.queryParam.pageIndex,limit:e.questionPage.queryParam.pageSize},on:{\"update:page\":function(t){return e.$set(e.questionPage.queryParam,\"pageIndex\",t)},\"update:limit\":function(t){return e.$set(e.questionPage.queryParam,\"pageSize\",t)},pagination:e.search}}),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.questionPage.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmQuestionSelect}},[e._v(\"确定\")])],1)],1),a(\"el-dialog\",{attrs:{visible:e.autoPage.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.autoPage,\"showDialog\",t)},close:e.closeDialog}},[a(\"el-form\",{ref:\"autoPage.typePage\",attrs:{model:e.autoPage.typePage}},[a(\"el-row\",e._l(e.autoPage.typePage.questionSelectItems,(function(t,i){return a(\"el-form-item\",{key:i,attrs:{inline:!0,label:\"题型\"+(i+1)+\"：\",required:\"\"}},[a(\"el-col\",{staticStyle:{width:\"21%\"},attrs:{span:6}},[a(\"el-select\",{model:{value:e.autoPage.typePage.questionSelectItems[i].questionType,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[i],\"questionType\",t)},expression:\"autoPage.typePage.questionSelectItems[index].questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-col\",{staticStyle:{width:\"21%\"},attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"难度：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"难度：1~5\"},model:{value:e.autoPage.typePage.questionSelectItems[i].level,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[i],\"level\",t)},expression:\"autoPage.typePage.questionSelectItems[index].level\"}})],1)],1),a(\"el-col\",{staticStyle:{width:\"21%\"},attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"数量：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"最少输入1\"},model:{value:e.autoPage.typePage.questionSelectItems[i].num,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[i],\"num\",t)},expression:\"autoPage.typePage.questionSelectItems[index].num\"}})],1)],1),a(\"el-col\",{staticStyle:{width:\"21%\"},attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{width:\"300px\"},attrs:{label:\"知识点：\"}},[a(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.autoPage.typePage.questionSelectItems[i].chapterId,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[i],\"chapterId\",t)},expression:\"autoPage.typePage.questionSelectItems[index].chapterId\"}},e._l(e.chapters,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1)})),1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.autoPage.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmType}},[e._v(\"确定\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addType}},[e._v(\"添加题型\")])],1)],1)],1),a(\"el-dialog\",{attrs:{visible:e.template1.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.template1,\"showDialog\",t)},close:e.closeDialog1}},[a(\"el-form\",{ref:\"template1.typePage\",attrs:{model:e.template1.typePage}},[a(\"el-row\",e._l(e.template1.typePage.questionSelectItems,(function(t,i){return a(\"el-form-item\",{key:i,attrs:{inline:!0,label:\"题型\"+(i+1)+\"：\",required:\"\"}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-select\",{model:{value:e.template1.typePage.questionSelectItems[i].questionType,callback:function(t){e.$set(e.template1.typePage.questionSelectItems[i],\"questionType\",t)},expression:\"template1.typePage.questionSelectItems[index].questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"数量：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"最少输入1\"},model:{value:e.template1.typePage.questionSelectItems[i].num,callback:function(t){e.$set(e.template1.typePage.questionSelectItems[i],\"num\",t)},expression:\"template1.typePage.questionSelectItems[index].num\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"分数：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"设置每小题的分数\"},model:{value:e.template1.typePage.questionSelectItems[i].score,callback:function(t){e.$set(e.template1.typePage.questionSelectItems[i],\"score\",t)},expression:\"template1.typePage.questionSelectItems[index].score\"}})],1)],1)],1)})),1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.template1.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmT1}},[e._v(\"确定\")])],1)],1)],1),a(\"el-dialog\",{attrs:{visible:e.template3.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.template3,\"showDialog\",t)},close:e.closeDialog1}},[a(\"el-form\",{ref:\"template1.typePage\",attrs:{model:e.template3.typePage}},[a(\"el-row\",e._l(e.template3.typePage.questionSelectItems,(function(t,i){return a(\"el-form-item\",{key:i,attrs:{inline:!0,label:\"题型\"+(i+1)+\"：\",required:\"\"}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-select\",{model:{value:e.template3.typePage.questionSelectItems[i].questionType,callback:function(t){e.$set(e.template3.typePage.questionSelectItems[i],\"questionType\",t)},expression:\"template3.typePage.questionSelectItems[index].questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"数量：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"最少输入1\"},model:{value:e.template3.typePage.questionSelectItems[i].num,callback:function(t){e.$set(e.template3.typePage.questionSelectItems[i],\"num\",t)},expression:\"template3.typePage.questionSelectItems[index].num\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"分数：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"设置每小题的分数\"},model:{value:e.template3.typePage.questionSelectItems[i].score,callback:function(t){e.$set(e.template3.typePage.questionSelectItems[i],\"score\",t)},expression:\"template3.typePage.questionSelectItems[index].score\"}})],1)],1)],1)})),1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.template3.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmT3}},[e._v(\"确定\")])],1)],1)],1),a(\"el-dialog\",{attrs:{visible:e.template2.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.template2,\"showDialog\",t)},close:e.closeDialog1}},[a(\"el-form\",{ref:\"template1.typePage\",attrs:{model:e.template2.typePage}},[a(\"el-row\",e._l(e.template2.typePage.questionSelectItems,(function(t,i){return a(\"el-form-item\",{key:i,attrs:{inline:!0,label:\"题型\"+(i+1)+\"：\",required:\"\"}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-select\",{model:{value:e.template2.typePage.questionSelectItems[i].questionType,callback:function(t){e.$set(e.template2.typePage.questionSelectItems[i],\"questionType\",t)},expression:\"template2.typePage.questionSelectItems[index].questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"数量：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"最少输入1\"},model:{value:e.template2.typePage.questionSelectItems[i].num,callback:function(t){e.$set(e.template2.typePage.questionSelectItems[i],\"num\",t)},expression:\"template2.typePage.questionSelectItems[index].num\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"分数：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"设置每小题的分数\"},model:{value:e.template2.typePage.questionSelectItems[i].score,callback:function(t){e.$set(e.template2.typePage.questionSelectItems[i],\"score\",t)},expression:\"template2.typePage.questionSelectItems[index].score\"}})],1)],1)],1)})),1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.template2.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmT2}},[e._v(\"确定\")])],1)],1)],1)],1)},n=[],s=(a(\"4de4\"),a(\"4160\"),a(\"b0c0\"),a(\"a9e3\"),a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"5530\")),l=a(\"2f62\"),o=a(\"333d\"),r=a(\"294d\"),u=a(\"4a0c\"),c=a(\"2ac8\"),m={components:{Pagination:o[\"a\"],QuestionShow:r[\"a\"]},data:function(){return{form:{id:null,level:null,subjectId:null,paperType:1,limitDateTime:[],name:\"\",score:0,scores:0,suggestTime:null,titleItems:[]},subjectFilter:null,formLoading:!1,rules:{level:[{required:!0,message:\"请选择年级\",trigger:\"change\"}],subjectId:[{required:!0,message:\"请选择学科\",trigger:\"change\"}],paperType:[{required:!0,message:\"请选择试卷类型\",trigger:\"change\"}],name:[{required:!0,message:\"请输入试卷名称\",trigger:\"blur\"}],suggestTime:[{required:!0,message:\"请输入建议时长\",trigger:\"blur\"}]},questionPage:{multipleSelection:[],showDialog:!1,queryParam:{id:null,questionType:null,subjectId:\"\",chapterId:\"\",pageIndex:1,pageSize:5},listLoading:!0,tableData:[],total:0},autoPage:{showDialog:!1,typePage:{typeItems:[{num:null,level:null,name:\"\",chapterId:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null,chapterId:null}]}},template1:{showDialog:!1,typePage:{typeItems:[{num:5,level:null,name:\"\",chapterId:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:5,level:1,subjectId:null,questionType:1,score:10},{num:5,level:1,subjectId:1,questionType:2,score:10}]}},template2:{showDialog:!1,typePage:{typeItems:[{num:5,level:null,name:\"\",chapterId:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:1,level:1,subjectId:null,questionType:1,score:5},{num:1,level:1,subjectId:1,questionType:2,score:6}]}},template3:{showDialog:!1,typePage:{typeItems:[{num:5,level:null,name:\"\",chapterId:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:1,level:1,subjectId:null,questionType:1,score:5},{num:1,level:1,subjectId:1,questionType:2,score:6}]}},queryCha:{pageIndex:1,pageSize:100,subjectId:\"\",gradeLevel:\"\"},chapters:\"\",currentTitleItem:[]}},created:function(){var e=this.$route.query.id,t=this;this.initSubject((function(){t.subjectFilter=t.subjects})),e&&0!==parseInt(e)&&(t.formLoading=!0,u[\"a\"].select(e).then((function(e){t.form=e.response,t.formLoading=!1}))),this.form},watch:{\"form.subjectId\":function(e,t){e&&(this.queryCha.subjectId=e,this.getChapter())},titleItems:function(e,t){if(console.log(e),e){var a=0;if(this.form.titleItems.length>0&&this.form.titleItems[0].questionItems.length>0){for(var i=0;i<this.form.titleItems.length;i++){var n=Number(this.form.titleItems[i].score),s=this.form.titleItems[i].questionItems.length;console.log(s),console.log(n);var l=n*s;a+=l,console.log(a)}this.form.scores=a}}}},methods:Object(s[\"a\"])(Object(s[\"a\"])({getChapter:function(){var e=this;c[\"a\"].chapterList(this.queryCha).then((function(t){var a=t.response.list,i=[];e.chaId=[];for(var n=0;n<a.length;n++)e.chaId.push(a[n].id),a[n].name&&i.push(a[n]);e.chapters=i}))},submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(a){if(!a)return!1;e.formLoading=!0,u[\"a\"].edit(e.form).then((function(a){1===a.code?(t.$message.success(a.message),t.delCurrentView(t).then((function(){t.$router.push(\"/exam/paper/list\")}))):(t.$message.error(a.message),e.formLoading=!1)})).catch((function(t){e.formLoading=!1}))}))},addTitle:function(){this.form.titleItems.push({name:\"\",score:\"\",questionItems:[]})},addType:function(){this.autoPage.typePage.questionSelectItems.push({name:\"\",typeItems:[],num:null,level:null,chapterId:null}),console.log(this.autoPage.typePage.questionSelectItems)},addQuestion:function(e){this.currentTitleItem=e,this.questionPage.showDialog=!0,this.search()},addAuto:function(e){this.currentTitleItem=e,this.autoPage.showDialog=!0,this.search()},removeTitleItem:function(e){this.form.titleItems.remove(e)},removeQuestion:function(e,t){e.questionItems.remove(t)},queryForm:function(){this.questionPage.queryParam.pageIndex=1,this.search()},confirmQuestionSelect:function(){var e=this;this.questionPage.multipleSelection.forEach((function(t){c[\"a\"].select(t.id).then((function(t){e.currentTitleItem.questionItems.push(t.response)}))})),this.questionPage.showDialog=!1},confirmType:function(){var e=this;this.autoPage.typePage.subjectId=this.form.subjectId,this.autoPage.typePage.suggestTime=this.form.suggestTime;for(var t=0;t<this.autoPage.typePage.questionSelectItems.length;t++)this.autoPage.typePage.questionSelectItems[t].name=\"\",this.autoPage.typePage.questionSelectItems[t].subjectId=this.form.subjectId;u[\"a\"].auto(this.autoPage.typePage).then((function(t){for(var a=t.response,i=0;i<a.titleItems.length;i++){var n=a.titleItems[i].questionItems,s=a.titleItems[i].score;e.form.titleItems.push({name:\"\",questionItems:n,score:s})}console.log(e.form.titleItems)})),this.autoPage.showDialog=!1},closeDialog:function(){this.autoPage.typePage={typeItems:[{num:null,level:null,name:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null}]}},closeDialog1:function(){},tClick1:function(){this.template1.showDialog=!0},tClick2:function(){this.template2.showDialog=!0},tClick3:function(){this.template3.showDialog=!0},confirmT1:function(){var e=this;this.template1.typePage.subjectId=this.form.subjectId,this.template1.typePage.suggestTime=this.form.suggestTime;for(var t=0;t<this.template1.typePage.questionSelectItems.length;t++)this.template1.typePage.questionSelectItems[t].name=\"\",this.template1.typePage.questionSelectItems[t].subjectId=this.form.subjectId;u[\"a\"].auto(this.template1.typePage).then((function(t){for(var a=t.response,i=0;i<a.titleItems.length;i++){var n=a.titleItems[i].questionItems,s=a.titleItems[i].score;e.form.titleItems.push({name:\"\",questionItems:n,score:s})}})),this.template1.showDialog=!1},confirmT2:function(){var e=this;this.template2.typePage.subjectId=this.form.subjectId,this.template2.typePage.suggestTime=this.form.suggestTime;for(var t=0;t<this.template2.typePage.questionSelectItems.length;t++)this.template2.typePage.questionSelectItems[t].name=\"\",this.template2.typePage.questionSelectItems[t].subjectId=this.form.subjectId;u[\"a\"].auto(this.template2.typePage).then((function(t){for(var a=t.response,i=0;i<a.titleItems.length;i++){var n=a.titleItems[i].questionItems,s=a.titleItems[i].score;e.form.titleItems.push({name:\"\",questionItems:n,score:s})}})),this.template2.showDialog=!1},confirmT3:function(){var e=this;this.template3.typePage.subjectId=this.form.subjectId,this.template3.typePage.suggestTime=this.form.suggestTime;for(var t=0;t<this.template3.typePage.questionSelectItems.length;t++)this.template3.typePage.questionSelectItems[t].name=\"\",this.template3.typePage.questionSelectItems[t].subjectId=this.form.subjectId;u[\"a\"].auto(this.template3.typePage).then((function(t){for(var a=t.response,i=0;i<a.titleItems.length;i++){var n=a.titleItems[i].questionItems,s=a.titleItems[i].score;e.form.titleItems.push({name:\"\",questionItems:n,score:s})}})),this.template3.showDialog=!1},levelChange:function(){var e=this;this.form.subjectId=null,this.subjectFilter=this.subjects.filter((function(t){return t.level===e.form.level}))},search:function(){var e=this;this.questionPage.queryParam.subjectId=this.form.subjectId,this.questionPage.listLoading=!0,c[\"a\"].pageList(this.questionPage.queryParam).then((function(t){var a=t.response;e.questionPage.tableData=a.list,e.questionPage.total=a.total,e.questionPage.queryParam.pageIndex=a.pageNum,e.questionPage.listLoading=!1}))},handleSelectionChange:function(e){this.questionPage.multipleSelection=e},questionTypeFormatter:function(e,t,a,i){return this.enumFormat(this.questionTypeEnum,a)},subjectFormatter:function(e,t,a,i){return this.subjectEnumFormat(a)},resetForm:function(){this.$refs[\"form\"].resetFields(),this.form={id:null,level:null,subjectId:null,paperType:1,limitDateTime:[],name:\"\",suggestTime:null,titleItems:[]},this.autoPage.typePage={typeItems:[{num:null,level:null,name:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null}]}}},Object(l[\"b\"])(\"exam\",{initSubject:\"initSubject\"})),Object(l[\"b\"])(\"tagsView\",{delCurrentView:\"delCurrentView\"})),computed:Object(s[\"a\"])(Object(s[\"a\"])(Object(s[\"a\"])(Object(s[\"a\"])({},Object(l[\"c\"])(\"enumItem\",[\"enumFormat\"])),Object(l[\"e\"])(\"enumItem\",{questionTypeEnum:function(e){return e.exam.question.typeEnum},paperTypeEnum:function(e){return e.exam.examPaper.paperTypeEnum},levelEnum:function(e){return e.user.levelEnum}})),Object(l[\"e\"])(\"exam\",{subjects:function(e){return e.subjects}})),{},{titleItems:function(){return this.form.titleItems},scores:function(){var e=0;if(console.log(this.form.titleItems.length),console.log(this.form.titleItems),this.form.titleItems.length>0&&this.form.titleItems[0].questionItems.length>0){e=0,console.log(e);for(var t=0;t<this.form.titleItems.length;t++){var a=Number(this.form.titleItems[t].score),i=this.form.titleItems[t].questionItems.length,n=a*i;console.log(i),console.log(a),e+=n,console.log(e)}this.form.scores=e}return e}})},p=m,d=(a(\"06d9\"),a(\"2877\")),g=Object(d[\"a\"])(p,i,n,!1,null,null,null);t[\"default\"]=g.exports}}]);","extractedComments":[]}