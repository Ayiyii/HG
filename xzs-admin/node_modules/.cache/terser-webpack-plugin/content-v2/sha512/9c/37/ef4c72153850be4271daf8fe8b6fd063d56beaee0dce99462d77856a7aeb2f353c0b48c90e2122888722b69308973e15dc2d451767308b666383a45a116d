{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a85d3c1e\"],{\"06d9\":function(e,t,a){\"use strict\";a(\"b7b3\")},\"129f\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},\"294d\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{\"line-height\":\"1.8\"}},[1==e.qType||2==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",domProps:{innerHTML:e._s(e.question.title)}}),a(\"div\",{staticClass:\"q-content\"},e._l(e.question.items,(function(t){return a(\"span\",{key:t.id,staticClass:\"q-item-contain\"},[a(\"span\",{staticClass:\"q-item-prefix\"},[e._v(e._s(t.prefix))]),a(\"span\",{staticClass:\"q-item-content\",domProps:{innerHTML:e._s(t.content)}})])})),0)]):3==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",staticStyle:{display:\"inline\",\"margin-right\":\"10px\"},domProps:{innerHTML:e._s(e.question.title)}}),a(\"span\",[e._v(\"（\")]),e._l(e.question.items,(function(t){return a(\"span\",{key:t.id},[a(\"span\",{staticClass:\"q-item-content\",domProps:{innerHTML:e._s(t.content)}})])})),a(\"span\",[e._v(\"）\")])],2):4==e.qType||5==e.qType?a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.qLoading,expression:\"qLoading\"}]},[a(\"div\",{staticClass:\"q-title\",domProps:{innerHTML:e._s(e.question.title)}})]):a(\"div\")])},i=[],o=(a(\"a9e3\"),{name:\"QuestionShow\",props:{question:{type:Object,default:function(){return{}}},qLoading:{type:Boolean,default:!1},qType:{type:Number,default:0}},methods:{}}),s=o,l=a(\"2877\"),u=Object(l[\"a\"])(s,n,i,!1,null,null,null);t[\"a\"]=u.exports},\"2ac8\":function(e,t,a){\"use strict\";var n=a(\"b775\");t[\"a\"]={pageList:function(e){return Object(n[\"a\"])(\"/api/admin/question/page\",e)},edit:function(e){return Object(n[\"a\"])(\"/api/admin/question/edit\",e)},select:function(e){return Object(n[\"a\"])(\"/api/admin/question/select/\"+e)},deleteQuestion:function(e){return Object(n[\"a\"])(\"/api/admin/question/delete/\"+e)}}},\"333d\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[a(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},i=[];a(\"a9e3\");Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,a){var n=l(),i=e-n,u=20,r=0;t=\"undefined\"===typeof t?500:t;var c=function e(){r+=u;var l=Math.easeInOutQuad(r,n,i,t);s(l),r<t?o(e):a&&\"function\"===typeof a&&a()};c()}var r={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},c=r,m=(a(\"39d5\"),a(\"2877\")),p=Object(m[\"a\"])(c,n,i,!1,null,\"90fd946a\",null);t[\"a\"]=p.exports},\"39d5\":function(e,t,a){\"use strict\";a(\"6b4c\")},\"4a0c\":function(e,t,a){\"use strict\";var n=a(\"b775\");t[\"a\"]={pageList:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/page\",e)},taskExamPage:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/taskExamPage\",e)},edit:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/edit\",e)},select:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/select/\"+e)},deletePaper:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/delete/\"+e)},auto:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/random\",e)},studentPage:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/pageList\",e)},examPage:function(e){return Object(n[\"a\"])(\"/api/admin/exam/paper/pageList2\",e)},group:function(e){return Object(n[\"a\"])(\"/api/admin/task/page\",e)}}},\"6b4c\":function(e,t,a){},\"841c\":function(e,t,a){\"use strict\";var n=a(\"d784\"),i=a(\"825a\"),o=a(\"1d80\"),s=a(\"129f\"),l=a(\"14c3\");n(\"search\",1,(function(e,t,a){return[function(t){var a=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var o=i(e),u=String(this),r=o.lastIndex;s(r,0)||(o.lastIndex=0);var c=l(o,u);return s(o.lastIndex,r)||(o.lastIndex=r),null===c?-1:c.index}]}))},b7b3:function(e,t,a){},beb3:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.formLoading,expression:\"formLoading\"}],ref:\"form\",attrs:{model:e.form,\"label-width\":\"100px\",rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"年级：\",prop:\"level\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"年级\"},on:{change:e.levelChange},model:{value:e.form.level,callback:function(t){e.$set(e.form,\"level\",t)},expression:\"form.level\"}},e._l(e.levelEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"学科：\",prop:\"subjectId\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"学科\"},model:{value:e.form.subjectId,callback:function(t){e.$set(e.form,\"subjectId\",t)},expression:\"form.subjectId\"}},e._l(e.subjectFilter,(function(e){return a(\"el-option\",{key:e.id,attrs:{value:e.id,label:e.name+\" ( \"+e.levelName+\" )\"}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"试卷类型：\",prop:\"paperType\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"试卷类型\"},model:{value:e.form.paperType,callback:function(t){e.$set(e.form,\"paperType\",t)},expression:\"form.paperType\"}},e._l(e.paperTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:4===e.form.paperType,expression:\"form.paperType===4\"}],attrs:{label:\"时间限制：\",required:\"\"}},[a(\"el-date-picker\",{attrs:{\"value-format\":\"yyyy-MM-dd HH:mm:ss\",type:\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.form.limitDateTime,callback:function(t){e.$set(e.form,\"limitDateTime\",t)},expression:\"form.limitDateTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"试卷名称：\",prop:\"name\",required:\"\"}},[a(\"el-input\",{model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"建议时长：\",prop:\"suggestTime\",required:\"\"}},[a(\"el-input\",{attrs:{placeholder:\"分钟\"},model:{value:e.form.suggestTime,callback:function(t){e.$set(e.form,\"suggestTime\",t)},expression:\"form.suggestTime\"}})],1),e._l(e.form.titleItems,(function(t,n){return a(\"el-form-item\",{key:n,attrs:{label:\"题目\"+(n+1)+\"：\",required:\"\"}},[a(\"el-input\",{staticStyle:{width:\"80%\"},model:{value:t.name,callback:function(a){e.$set(t,\"name\",a)},expression:\"titleItem.name\"}}),a(\"el-button\",{staticClass:\"link-left\",staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"text\",size:\"mini\"},on:{click:function(a){return e.addQuestion(t)}}},[e._v(\" 添加题目 \")]),a(\"el-button\",{staticClass:\"link-left\",attrs:{type:\"text\",size:\"mini\"},on:{click:function(t){return e.form.titleItems.splice(n,1)}}},[e._v(\"删除\")]),0!==t.questionItems.length?a(\"el-card\",{staticClass:\"exampaper-item-box\"},e._l(t.questionItems,(function(n,i){return a(\"el-form-item\",{key:i,staticStyle:{\"margin-bottom\":\"15px\"},attrs:{label:\"题目\"+(i+1)+\"：\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:23}},[a(\"QuestionShow\",{attrs:{qType:n.questionType,question:n}})],1),a(\"el-col\",{attrs:{span:1}},[a(\"el-button\",{attrs:{type:\"text\",size:\"mini\"},on:{click:function(e){return t.questionItems.splice(i,1)}}},[e._v(\"删除 \")])],1)],1)],1)})),1):e._e()],1)})),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"提交\")]),a(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重置\")]),a(\"el-button\",{attrs:{type:\"success\"},on:{click:e.addTitle}},[e._v(\"添加题目\")]),a(\"el-button\",{attrs:{type:\"success\"},on:{click:e.addAuto}},[e._v(\"自动组卷\")])],1)],2),a(\"el-dialog\",{attrs:{visible:e.questionPage.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.questionPage,\"showDialog\",t)}}},[a(\"el-form\",{ref:\"queryForm\",attrs:{model:e.questionPage.queryParam,inline:!0}},[a(\"el-form-item\",{attrs:{label:\"ID：\"}},[a(\"el-input\",{attrs:{clearable:\"\"},model:{value:e.questionPage.queryParam.id,callback:function(t){e.$set(e.questionPage.queryParam,\"id\",t)},expression:\"questionPage.queryParam.id\"}})],1),a(\"el-form-item\",{attrs:{label:\"题型：\"}},[a(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.questionPage.queryParam.questionType,callback:function(t){e.$set(e.questionPage.queryParam,\"questionType\",t)},expression:\"questionPage.queryParam.questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.queryForm}},[e._v(\"查询\")])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.questionPage.listLoading,expression:\"questionPage.listLoading\"}],staticStyle:{width:\"100%\"},attrs:{data:e.questionPage.tableData,border:\"\",fit:\"\",\"highlight-current-row\":\"\"},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"35\"}}),a(\"el-table-column\",{attrs:{prop:\"id\",label:\"Id\",width:\"60px\"}}),a(\"el-table-column\",{attrs:{prop:\"questionType\",label:\"题型\",formatter:e.questionTypeFormatter,width:\"70px\"}}),a(\"el-table-column\",{attrs:{prop:\"shortTitle\",label:\"题干\",\"show-overflow-tooltip\":\"\"}})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.questionPage.total>0,expression:\"questionPage.total>0\"}],attrs:{total:e.questionPage.total,page:e.questionPage.queryParam.pageIndex,limit:e.questionPage.queryParam.pageSize},on:{\"update:page\":function(t){return e.$set(e.questionPage.queryParam,\"pageIndex\",t)},\"update:limit\":function(t){return e.$set(e.questionPage.queryParam,\"pageSize\",t)},pagination:e.search}}),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.questionPage.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmQuestionSelect}},[e._v(\"确定\")])],1)],1),a(\"el-dialog\",{attrs:{visible:e.autoPage.showDialog,width:\"70%\"},on:{\"update:visible\":function(t){return e.$set(e.autoPage,\"showDialog\",t)},close:e.closeDialog}},[a(\"el-form\",{ref:\"autoPage.typePage\",attrs:{model:e.autoPage.typePage}},[a(\"el-row\",e._l(e.autoPage.typePage.questionSelectItems,(function(t,n){return a(\"el-form-item\",{key:n,attrs:{inline:!0,label:\"题型\"+(n+1)+\"：\",required:\"\"}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-select\",{model:{value:e.autoPage.typePage.questionSelectItems[n].questionType,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[n],\"questionType\",t)},expression:\"autoPage.typePage.questionSelectItems[index].questionType\"}},e._l(e.questionTypeEnum,(function(e){return a(\"el-option\",{key:e.key,attrs:{value:e.key,label:e.value}})})),1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"难度：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"难度：1~5\"},model:{value:e.autoPage.typePage.questionSelectItems[n].level,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[n],\"level\",t)},expression:\"autoPage.typePage.questionSelectItems[index].level\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{label:\"数量：\"}},[a(\"el-input\",{staticStyle:{width:\"120px\"},attrs:{placeholder:\"最少输入1\"},model:{value:e.autoPage.typePage.questionSelectItems[n].num,callback:function(t){e.$set(e.autoPage.typePage.questionSelectItems[n],\"num\",t)},expression:\"autoPage.typePage.questionSelectItems[index].num\"}})],1)],1)],1)})),1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.autoPage.showDialog=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.confirmType}},[e._v(\"确定\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addType}},[e._v(\"添加题型\")])],1)],1)],1)],1)},i=[],o=(a(\"4de4\"),a(\"4160\"),a(\"b0c0\"),a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"5530\")),s=a(\"2f62\"),l=a(\"333d\"),u=a(\"294d\"),r=a(\"4a0c\"),c=a(\"2ac8\"),m={components:{Pagination:l[\"a\"],QuestionShow:u[\"a\"]},data:function(){return{form:{id:null,level:null,subjectId:null,paperType:1,limitDateTime:[],name:\"\",suggestTime:null,titleItems:[]},subjectFilter:null,formLoading:!1,rules:{level:[{required:!0,message:\"请选择年级\",trigger:\"change\"}],subjectId:[{required:!0,message:\"请选择学科\",trigger:\"change\"}],paperType:[{required:!0,message:\"请选择试卷类型\",trigger:\"change\"}],name:[{required:!0,message:\"请输入试卷名称\",trigger:\"blur\"}],suggestTime:[{required:!0,message:\"请输入建议时长\",trigger:\"blur\"}]},questionPage:{multipleSelection:[],showDialog:!1,queryParam:{id:null,questionType:null,subjectId:1,pageIndex:1,pageSize:5},listLoading:!0,tableData:[],total:0},autoPage:{showDialog:!1,typePage:{typeItems:[{num:null,level:null,name:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null}]}},currentTitleItem:[]}},created:function(){var e=this.$route.query.id,t=this;this.initSubject((function(){t.subjectFilter=t.subjects})),e&&0!==parseInt(e)&&(t.formLoading=!0,r[\"a\"].select(e).then((function(e){t.form=e.response,t.formLoading=!1}))),this.form},methods:Object(o[\"a\"])(Object(o[\"a\"])({submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(a){if(!a)return!1;e.formLoading=!0,r[\"a\"].edit(e.form).then((function(a){1===a.code?(t.$message.success(a.message),t.delCurrentView(t).then((function(){t.$router.push(\"/exam/paper/list\")}))):(t.$message.error(a.message),e.formLoading=!1)})).catch((function(t){e.formLoading=!1}))}))},addTitle:function(){this.form.titleItems.push({name:\"\",questionItems:[]})},addType:function(){this.autoPage.typePage.questionSelectItems.push({name:\"\",typeItems:[],num:null,level:null}),console.log(this.autoPage.typePage.questionSelectItems)},addQuestion:function(e){this.currentTitleItem=e,this.questionPage.showDialog=!0,this.search()},addAuto:function(e){this.currentTitleItem=e,this.autoPage.showDialog=!0,this.search()},removeTitleItem:function(e){this.form.titleItems.remove(e)},removeQuestion:function(e,t){e.questionItems.remove(t)},queryForm:function(){this.questionPage.queryParam.pageIndex=1,this.search()},confirmQuestionSelect:function(){var e=this;this.questionPage.multipleSelection.forEach((function(t){c[\"a\"].select(t.id).then((function(t){e.currentTitleItem.questionItems.push(t.response)}))})),this.questionPage.showDialog=!1},confirmType:function(){var e=this;this.autoPage.typePage.subjectId=this.form.subjectId,this.autoPage.typePage.suggestTime=this.form.suggestTime;for(var t=0;t<this.autoPage.typePage.questionSelectItems.length;t++)this.autoPage.typePage.questionSelectItems[t].name=\"\",this.autoPage.typePage.questionSelectItems[t].subjectId=this.form.subjectId;r[\"a\"].auto(this.autoPage.typePage).then((function(t){for(var a=t.response,n=0;n<a.titleItems.length;n++){e.form.titleItems.push({name:\"\",questionItems:[]});for(var i=0;i<a.titleItems[n].questionItems.length;i++){var o=a.titleItems[n].questionItems[i];e.form.titleItems[n].questionItems.push(o)}}console.log(e.form.titleItems)})),this.autoPage.showDialog=!1},closeDialog:function(){this.autoPage.typePage={typeItems:[{num:null,level:null,name:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null}]}},levelChange:function(){var e=this;this.form.subjectId=null,this.subjectFilter=this.subjects.filter((function(t){return t.level===e.form.level}))},search:function(){var e=this;this.questionPage.queryParam.subjectId=this.form.subjectId,this.questionPage.listLoading=!0,c[\"a\"].pageList(this.questionPage.queryParam).then((function(t){var a=t.response;e.questionPage.tableData=a.list,e.questionPage.total=a.total,e.questionPage.queryParam.pageIndex=a.pageNum,e.questionPage.listLoading=!1}))},handleSelectionChange:function(e){this.questionPage.multipleSelection=e},questionTypeFormatter:function(e,t,a,n){return this.enumFormat(this.questionTypeEnum,a)},subjectFormatter:function(e,t,a,n){return this.subjectEnumFormat(a)},resetForm:function(){this.$refs[\"form\"].resetFields(),this.form={id:null,level:null,subjectId:null,paperType:1,limitDateTime:[],name:\"\",suggestTime:null,titleItems:[]},this.autoPage.typePage={typeItems:[{num:null,level:null,name:\"\",typeItems:[]}],subjectId:null,paperType:1,limitDateTime:null,name:\"\",suggestTime:null,questionSelectItems:[{num:null,level:null,subjectId:null,questionType:null}]}}},Object(s[\"b\"])(\"exam\",{initSubject:\"initSubject\"})),Object(s[\"b\"])(\"tagsView\",{delCurrentView:\"delCurrentView\"})),computed:Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])({},Object(s[\"c\"])(\"enumItem\",[\"enumFormat\"])),Object(s[\"e\"])(\"enumItem\",{questionTypeEnum:function(e){return e.exam.question.typeEnum},paperTypeEnum:function(e){return e.exam.examPaper.paperTypeEnum},levelEnum:function(e){return e.user.levelEnum}})),Object(s[\"e\"])(\"exam\",{subjects:function(e){return e.subjects}}))},p=m,d=(a(\"06d9\"),a(\"2877\")),g=Object(d[\"a\"])(p,n,i,!1,null,null,null);t[\"default\"]=g.exports}}]);","extractedComments":[]}