{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/question/components/el-upload-custom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/question/components/el-upload-custom.vue","mtime":1619859299472},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJwoKLyroh6rlrprkuYnkuIrkvKAgLSBlbGVtZW50LXVp5LiK5Lyg5YaN5bCB6KOFKi8KZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkVsVXBsb2FkQ3VzdG9tIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGlhbG9nSW1hZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgZGlhbG9nSW1hZ2VVcmw6IG51bGwsCiAgICAgICAgICAgIGRpYWxvZ1ZpZGVvVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGRpYWxvZ1ZpZGVvVXJsOiBudWxsLAogICAgICAgICAgICBkaWFsb2dBdWRpb1Zpc2libGU6IGZhbHNlLAogICAgICAgICAgICBkaWFsb2dBdWRpb1VybDogbnVsbCwKICAgICAgICAgICAgaW1hZ2VVcmw6ICcnCiAgICAgICAgfQogICAgfSwKICAgIG1vZGVsOiB7CiAgICAgICAgcHJvcDogJ3ZhbHVlJywKICAgICAgICBldmVudDogJ2NoYW5nZScKICAgIH0sCiAgICBwcm9wczogewogICAgICAgdmFsdWU6ewogICAgICAgICAgICB0eXBlOiBBcnJheSwKICAgICAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWN0aW9uOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkYXRhOiBPYmplY3QsCiAgICAgICAgbXVsdGlwbGU6IEJvb2xlYW4sCiAgICAgICAgbmFtZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICdmaWxlJwogICAgICAgIH0sCiAgICAgICAgZHJhZzogQm9vbGVhbiwKICAgICAgICBhY2NlcHQ6IFN0cmluZywKICAgICAgICBmbGllU2l6ZTogTnVtYmVyLAogICAgICAgIHdpdGhDcmVkZW50aWFsczogQm9vbGVhbiwKICAgICAgICBzaG93RmlsZUxpc3Q6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgbGlzdFR5cGU6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAndGV4dCcgLy8gdGV4dCxwaWN0dXJlLHBpY3R1cmUtY2FyZCBzaW5nbGU65Y2V5Zu+54mH5LiK5LygIHZpZGVv77ya5LiK5Lyg6KeG6aKRIGF1ZGlvOiDkuIrkvKDpn7PpopEKICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiBCb29sZWFuLAogICAgICAgIGxpbWl0OiBOdW1iZXIsCiAgICAgICAgZmlsZUxpc3Q6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGF1dG9VcGxvYWQ6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgaHR0cFJlcXVlc3Q6IEZ1bmN0aW9uLAogICAgICAgIGJlZm9yZVVwbG9hZDogRnVuY3Rpb24sCiAgICAgICAgYmVmb3JlUmVtb3ZlOiBGdW5jdGlvbiwKICAgICAgICBvblJlbW92ZTogRnVuY3Rpb24sCiAgICAgICAgb25DaGFuZ2U6IEZ1bmN0aW9uLAogICAgICAgIG9uUHJldmlldzogRnVuY3Rpb24sCiAgICAgICAgb25TdWNjZXNzOiBGdW5jdGlvbiwKICAgICAgICBvblByb2dyZXNzOiBGdW5jdGlvbiwKICAgICAgICBvbkVycm9yOiBGdW5jdGlvbiwKICAgICAgICBvbkV4Y2VlZDogRnVuY3Rpb24KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIGZpbGVMaXN0OiB7CiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RUeXBlID09ICdzaW5nbGUnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IHZhbC5sZW5ndGggPyB2YWxbMF0udXJsIDogJyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHVybCgpIHsKICAgICAgICAgICAgaWYgKC9eKChodHRwc3xodHRwfGZ0cHxydHNwfG1tcyk/OlwvXC8pW15cc10rLy50ZXN0KHRoaXMuYWN0aW9uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaHR0cFJlcXVlc3QgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAnIyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmRlZmF1bHRzLmJhc2VVUkwgKyB0aGlzLmFjdGlvbjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaXNTaG93RmlsZUxpc3QoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RUeXBlID09ICdzaW5nbGUnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93RmlsZUxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGN1c3RvbUxpc3RUeXBlKCkgewogICAgICAgICAgICBpZiAodGhpcy5saXN0VHlwZSA9PSAnc2luZ2xlJyB8fCB0aGlzLmxpc3RUeXBlID09ICdhdWRpbycpIHsKICAgICAgICAgICAgICAgIHJldHVybiAndGV4dCc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0VHlwZSA9PSAndmlkZW8nKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ3BpY3R1cmUtY2FyZCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0VHlwZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+aWh+S7tuS4iuS8oOWJjeS6i+S7tgogICAgICAgIGhhbmRsZUJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJlZm9yZVVwbG9hZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlVXBsb2FkKGZpbGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy/liKTmlq3mlofku7bnsbvlnosKICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVMaW1pdCA9IHRoaXMuYWNjZXB0ID8gdGhpcy5hY2NlcHQuc3BsaXQoJywnKS5pbmNsdWRlcyhmaWxlLnR5cGUpIDogdHJ1ZTsKICAgICAgICAgICAgICAgIC8v5Yik5pat5paH5Lu25aSn5bCPCiAgICAgICAgICAgICAgICBjb25zdCBzaXplTGluaXQgPSB0aGlzLmZsaWVTaXplID8gZmlsZS5zaXplIC8gMTAyNCA8IHRoaXMuZmxpZVNpemUgOiB0cnVlOwogICAgICAgICAgICAgICAgaWYgKCF0eXBlTGltaXQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHQoJ3BhZ2VzLmNvbW1vbi51cGxvYWRGaWxlVHlwZScsIHt0eXBlOiB0aGlzLmFjY2VwdH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghc2l6ZUxpbml0KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGZsaWVTaXplID0gdGhpcy5mbGllU2l6ZSA+IDEwMjQgPyBwYXJzZUludCh0aGlzLmZsaWVTaXplIC8gMTAyNCkgKyAnTScgKyB0aGlzLmZsaWVTaXplICUgMTAyNCA6IHRoaXMuZmxpZVNpemU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdwYWdlcy5jb21tb24udXBsb2FkRmlsZVNpemUnLCB7c2l6ZTogZmxpZVNpemV9KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZUxpbWl0ICYmIHNpemVMaW5pdDsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy/mlofku7bkuIrkvKDotoXlh7rpmZDliLbkuovku7YKICAgICAgICBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgICAgICAgIGlmICh0aGlzLm9uRXhjZWVkKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9uRXhjZWVkKGZpbGVzLCBmaWxlTGlzdCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHQoJ3BhZ2VzLmNvbW1vbi51cGxvYWRGaWxlTnVtYmVyJywge251bWJlcjogdGhpcy5saW1pdH0pKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+S4iuS8oOi/m+W6puS6i+S7tgogICAgICAgIGhhbmRsZVByb2dyZXNzKGV2ZW50LCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5vblByb2dyZXNzKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MoZXZlbnQsIGZpbGUsIGZpbGVMaXN0KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+S4iuS8oOaIkOWKn+S6i+S7tgogICAgICAgIGhhbmRsZVN1Y2Nlc3MocmVzLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5vblN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCFyZXMuY29kZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RUeXBlID09ICdzaW5nbGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUudXJsID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgW2ZpbGVdKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXF1YWwoaXRlbSwgZmlsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnVybCA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdwYWdlcy5jb21tb24udXBsb2FkRmlsZUVycm9yJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+mihOiniOS6i+S7tgogICAgICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgewogICAgICAgICAgICBpZiAodGhpcy5vblByZXZpZXcpIHsKICAgICAgICAgICAgICAgIHRoaXMub25QcmV2aWV3KGZpbGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdFR5cGUgPT0gJ2F1ZGlvJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQXVkaW9VcmwgPSBmaWxlLnVybDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0F1ZGlvVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMudmlkZW8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy52aWRlby5yZW1vdmUoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0VHlwZSA9PSAndmlkZW8nKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaWRlb1VybCA9IGZpbGUudXJsOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlkZW9WaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hdWRpbykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmF1ZGlvLnJlbW92ZSgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvL+ayoeacieaPkOS+m+aWh+S7tuexu+Wei+WwseS4i+i9veWIpOWumgogICAgICAgICAgICAgICAgICAgIGlmICghZmlsZS5yYXcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgZmlsZS51cmwsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gImJsb2IiOwogICAgICAgICAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5yYXcgPSB4aHIucmVzcG9uc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yik5pat5b2T5YmN54K55Ye75paH5Lu25piv5ZCm5Li65Zu+54mH57G75Z6LIOaYr+aYvuekuuWkp+WbvumihOiniAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvZ2lmJywgJ2FwcGxpY2F0aW9uL3gtanBnJywgJ2FwcGxpY2F0aW9uL3gtcG5nJ10uaW5jbHVkZXMoZmlsZS5yYXcudHlwZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dJbWFnZVZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/liKTmlq3lvZPliY3ngrnlh7vmlofku7bmmK/lkKbkuLrpn7PpopHnsbvlnosg5piv5pi+56S66K+V5ZCs6Z+z6aKRCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoWydhdWRpby9tcDMnXS5pbmNsdWRlcyhmaWxlLnJhdy50eXBlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQXVkaW9VcmwgPSBmaWxlLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0F1ZGlvVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WIpOaWreW9k+WJjeeCueWHu+aWh+S7tuaYr+WQpuS4uuinhumikeexu+WeiyDmmK/mmL7npLrotY/mnpDop4bpopEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ3ZpZGVvL21wNCddLmluY2x1ZGVzKGZpbGUucmF3LnR5cGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaWRlb1VybCA9IGZpbGUudXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlkZW9WaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvL+WIpOaWreW9k+WJjeeCueWHu+aWh+S7tuaYr+WQpuS4uuWbvueJh+exu+WeiyDmmK/mmL7npLrlpKflm77pooTop4gKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvZ2lmJ10uaW5jbHVkZXMoZmlsZS5yYXcudHlwZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nSW1hZ2VWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL+WIpOaWreW9k+WJjeeCueWHu+aWh+S7tuaYr+WQpuS4uumfs+mikeexu+WeiyDmmK/mmL7npLror5XlkKzpn7PpopEKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnYXVkaW8vbXAzJ10uaW5jbHVkZXMoZmlsZS5yYXcudHlwZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQXVkaW9VcmwgPSBmaWxlLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQXVkaW9WaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL+WIpOaWreW9k+WJjeeCueWHu+aWh+S7tuaYr+WQpuS4uuinhumikeexu+WeiyDmmK/mmL7npLrotY/mnpDop4bpopEKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsndmlkZW8vbXA0J10uaW5jbHVkZXMoZmlsZS5yYXcudHlwZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlkZW9VcmwgPSBmaWxlLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlkZW9WaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy/kuIrkvKDlpLHotKXkuovku7YKICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgICAgICAgIGlmICh0aGlzLm9uRXJyb3IpIHsKICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnIsIGZpbGUsIGZpbGVMaXN0KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KTsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy4kdCgncGFnZXMuY29tbW9uLnVwbG9hZEZpbGVFcnJvcicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy/mlofku7bnp7vpmaTliY3kuovku7YKICAgICAgICBoYW5kbGVCZWZvcmVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgICAgICAgaWYgKHRoaXMuYmVmb3JlUmVtb3ZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZVJlbW92ZShmaWxlLCBmaWxlTGlzdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICAvL+WIoOmZpOS6i+S7tgogICAgICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5vblJlbW92ZSkgewogICAgICAgICAgICAgICAgdGhpcy5vblJlbW92ZShmaWxlLCBmaWxlTGlzdCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBmaWxlTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnVpZCA9PSBmaWxlLnVpZCk7CiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBmaWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgZmlsZUxpc3QpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+aWh+S7tueKtuaAgeaUueWPmOS6i+S7tgogICAgICAgIGhhbmRsZUNoYW5nZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkgewogICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShmaWxlLCBmaWxlTGlzdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5pqC5YGc5pKt5pS+6Z+z6aKR6KeG6aKRCiAgICAgICAgaGFuZGxlUGF1c2UoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmF1ZGlvKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBhdXNlKCk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0F1ZGlvVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLnZpZGVvKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLnBhdXNlKCk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1ZpZGVvVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+i/m+W6pueZvuWIhuavlAogICAgICAgIHBhcnNlUGVyY2VudGFnZSh2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApOwogICAgICAgIH0sCiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgIH0KfQo="},{"version":3,"sources":["el-upload-custom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"el-upload-custom.vue","sourceRoot":"src/views/exam/question/components","sourcesContent":["<template>\n    <div>\n        <el-upload :class=\"(listType=='single' && !$slots.default)? 'avatar-uploader':''\" :action=\"url\"\n                   :headers=\"headers\" :data=\"data\" :multiple=\"multiple\" :name=\"name\" :drag=\"drag\"\n                   :with-credentials=\"withCredentials\" :disabled=\"disabled\" :limit=\"limit\"\n                   :show-file-list=\"isShowFileList\" :list-type=\"customListType\" :fileList=\"fileList\"\n                   :auto-upload=\"autoUpload\" :http-request=\"httpRequest\"\n                   :before-upload=\"handleBeforeUpload\"\n                   :on-success=\"handleSuccess\"\n                   :on-exceed=\"handleExceed\"\n                   :on-error=\"handleError\"\n                   :on-preview=\"handlePreview\"\n                   :on-change=\"handleChange\"\n                   :on-progress=\"handleProgress\"\n                   :before-remove=\"handleBeforeRemove\"\n                   :on-remove=\"handleRemove\">\n            <template v-if=\"drag && !$slots.default\">\n                <i class=\"el-icon-upload\"></i>\n                <div class=\"el-upload__text\">\n                    {{$t('pages.common.dragFilesHere')}}<em>{{$t('pages.common.clickUpload')}}</em></div>\n            </template>\n            <!--单图片上传-->\n            <template v-else-if=\"listType=='single' && !$slots.default\">\n                <el-image v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\"></el-image>\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </template>\n            <template v-else-if=\"(listType=='picture-card' || listType=='video') && !$slots.default\">\n                <i class=\"el-icon-plus\"></i>\n            </template>\n            <template v-else-if=\"!$slots.default\">\n                <el-button size=\"small\" type=\"primary\">{{$t('pages.common.clickUpload')}}</el-button>\n            </template>\n            <slot></slot>\n            <template slot=\"file\" slot-scope=\"{file}\" v-if=\"listType=='video'\">\n                <el-progress v-if=\"file.status === 'uploading'\" type=\"circle\"\n                             :stroke-width=\"6\"\n                             :percentage=\"parsePercentage(file.percentage)\">\n                </el-progress>\n                <div class=\"el-upload-list__item-thumbnail\" v-if=\"file\">\n                    <video class=\"el-upload-list__item-thumbnail\" :src=\"file.url\"></video>\n                    <span class=\"el-upload-list__item-actions\">\n                      <span class=\"el-upload-list__item-preview\"\n                            @click=\"handlePreview(file)\">\n                        <i class=\"sx-icon-video\" style=\"font-size: 19px\"></i>\n                      </span>\n                      <span class=\"el-upload-list__item-delete\">\n                        <i class=\"el-icon-delete\" @click=\"handleRemove(file,fileList)\"></i>\n                      </span>\n                    </span>\n                </div>\n            </template>\n        </el-upload>\n        <!-- 查看大图   -->\n        <el-dialog title=\"大图预览\" :visible.sync=\"dialogImageVisible\" append-to-body>\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"大图\">\n        </el-dialog>\n        <!--观看视频-->\n        <el-dialog title=\"赏析视频\" :visible.sync=\"dialogVideoVisible\" @close=\"handlePause\" append-to-body>\n            <video ref=\"video\" style=\"width: 100%; height: 100%; display: block; outline: none;\" :src=\"dialogVideoUrl\"\n                   controls\n                   autoplay></video>\n        </el-dialog>\n        <!--试听音频-->\n        <el-dialog title=\"试听音频\" :visible.sync=\"dialogAudioVisible\" @close=\"handlePause\" append-to-body>\n            <audio ref=\"audio\" style=\"width: 100%; height: 50px; display: block; outline: none;\" :src=\"dialogAudioUrl\"\n                   controls\n                   autoplay></audio>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import isEqual from 'lodash/isEqual'\n\n    /*自定义上传 - element-ui上传再封装*/\n    export default {\n        name: \"ElUploadCustom\",\n        data() {\n            return {\n                dialogImageVisible: false,\n                dialogImageUrl: null,\n                dialogVideoVisible: false,\n                dialogVideoUrl: null,\n                dialogAudioVisible: false,\n                dialogAudioUrl: null,\n                imageUrl: ''\n            }\n        },\n        model: {\n            prop: 'value',\n            event: 'change'\n        },\n        props: {\n           value:{\n                type: Array,\n                default() {\n                    return [];\n                }\n            },\n            action: {\n                type: String,\n                required: true\n            },\n            headers: {\n                type: Object,\n                default() {\n                    return {};\n                }\n            },\n            data: Object,\n            multiple: Boolean,\n            name: {\n                type: String,\n                default: 'file'\n            },\n            drag: Boolean,\n            accept: String,\n            flieSize: Number,\n            withCredentials: Boolean,\n            showFileList: {\n                type: Boolean,\n                default: true\n            },\n            listType: {\n                type: String,\n                default: 'text' // text,picture,picture-card single:单图片上传 video：上传视频 audio: 上传音频\n            },\n            disabled: Boolean,\n            limit: Number,\n            fileList: {\n                type: Array,\n                default() {\n                    return [];\n                }\n            },\n            autoUpload: {\n                type: Boolean,\n                default: true\n            },\n            httpRequest: Function,\n            beforeUpload: Function,\n            beforeRemove: Function,\n            onRemove: Function,\n            onChange: Function,\n            onPreview: Function,\n            onSuccess: Function,\n            onProgress: Function,\n            onError: Function,\n            onExceed: Function\n        },\n        watch: {\n            fileList: {\n                handler: function (val) {\n                    if (this.listType == 'single') {\n                        this.imageUrl = val.length ? val[0].url : '';\n                    }\n                },\n                immediate: true\n            }\n        },\n        computed: {\n            url() {\n                if (/^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/.test(this.action)) {\n                    return this.action\n                } else {\n                    if (typeof this.httpRequest == \"function\") {\n                        return '#';\n                    } else {\n                        return this.$http.defaults.baseURL + this.action;\n                    }\n                }\n            },\n            isShowFileList() {\n                if (this.listType == 'single') {\n                    return false;\n                } else {\n                    return this.showFileList;\n                }\n            },\n            customListType() {\n                if (this.listType == 'single' || this.listType == 'audio') {\n                    return 'text';\n                } else if (this.listType == 'video') {\n                    return 'picture-card';\n                } else {\n                    return this.listType\n                }\n            }\n        },\n        methods: {\n            //文件上传前事件\n            handleBeforeUpload(file) {\n                if (this.beforeUpload) {\n                    return this.beforeUpload(file);\n                } else {\n                    //判断文件类型\n                    const typeLimit = this.accept ? this.accept.split(',').includes(file.type) : true;\n                    //判断文件大小\n                    const sizeLinit = this.flieSize ? file.size / 1024 < this.flieSize : true;\n                    if (!typeLimit) {\n                        this.$message.error(this.$t('pages.common.uploadFileType', {type: this.accept}));\n                    }\n                    if (!sizeLinit) {\n                        let flieSize = this.flieSize > 1024 ? parseInt(this.flieSize / 1024) + 'M' + this.flieSize % 1024 : this.flieSize;\n                        this.$message.error(this.$t('pages.common.uploadFileSize', {size: flieSize}));\n                    }\n                    return typeLimit && sizeLinit;\n                }\n            },\n            //文件上传超出限制事件\n            handleExceed(files, fileList) {\n                if (this.onExceed) {\n                    this.onExceed(files, fileList);\n                } else {\n                    this.$message.error(this.$t('pages.common.uploadFileNumber', {number: this.limit}))\n                }\n            },\n            //上传进度事件\n            handleProgress(event, file, fileList) {\n                if (this.onProgress) {\n                    this.onProgress(event, file, fileList)\n                }\n            },\n            //上传成功事件\n            handleSuccess(res, file, fileList) {\n                if (this.onSuccess) {\n                    this.onSuccess(res, file, fileList);\n                } else {\n                    if (!res.code) {\n                        if (this.listType == 'single') {\n                            file.url = res.data;\n                            this.imageUrl = res.data;\n                            this.$emit('change', [file]);\n                        } else {\n                            fileList.forEach(item => {\n                                if (isEqual(item, file)) {\n                                    item.url = res.data\n                                }\n                            });\n                            this.$emit('change', fileList);\n                        }\n                    } else {\n                        this.handleRemove(file, fileList);\n                        this.$message.error(this.$t('pages.common.uploadFileError'));\n                    }\n                }\n            },\n            //预览事件\n            handlePreview(file) {\n                if (this.onPreview) {\n                    this.onPreview(file);\n                } else {\n                    if (this.listType == 'audio') {\n                        this.dialogAudioUrl = file.url;\n                        this.dialogAudioVisible = true;\n                        if (this.$refs.video) {\n                            this.$refs.video.remove()\n                        }\n                    } else if (this.listType == 'video') {\n                        this.dialogVideoUrl = file.url;\n                        this.dialogVideoVisible = true;\n                        if (this.$refs.audio) {\n                            this.$refs.audio.remove()\n                        }\n                    } else {\n                        //没有提供文件类型就下载判定\n                        if (!file.raw) {\n                            let xhr = new XMLHttpRequest();\n                            xhr.open(\"GET\", file.url, true);\n                            xhr.responseType = \"blob\";\n                            xhr.onload = () => {\n                                file.raw = xhr.response\n                                //判断当前点击文件是否为图片类型 是显示大图预览\n                                if (['image/png', 'image/jpeg', 'image/gif', 'application/x-jpg', 'application/x-png'].includes(file.raw.type)) {\n                                    this.dialogImageUrl = file.url;\n                                    this.dialogImageVisible = true;\n                                }\n                                //判断当前点击文件是否为音频类型 是显示试听音频\n                                if (['audio/mp3'].includes(file.raw.type)) {\n                                    this.dialogAudioUrl = file.url;\n                                    this.dialogAudioVisible = true;\n                                }\n                                //判断当前点击文件是否为视频类型 是显示赏析视频\n                                if (['video/mp4'].includes(file.raw.type)) {\n                                    this.dialogVideoUrl = file.url;\n                                    this.dialogVideoVisible = true;\n                                }\n                            };\n                            xhr.send();\n                        } else {\n                            //判断当前点击文件是否为图片类型 是显示大图预览\n                            if (['image/png', 'image/jpeg', 'image/gif'].includes(file.raw.type)) {\n                                this.dialogImageUrl = file.url;\n                                this.dialogImageVisible = true;\n                            }\n                            //判断当前点击文件是否为音频类型 是显示试听音频\n                            if (['audio/mp3'].includes(file.raw.type)) {\n                                this.dialogAudioUrl = file.url;\n                                this.dialogAudioVisible = true;\n                            }\n                            //判断当前点击文件是否为视频类型 是显示赏析视频\n                            if (['video/mp4'].includes(file.raw.type)) {\n                                this.dialogVideoUrl = file.url;\n                                this.dialogVideoVisible = true;\n                            }\n                        }\n                    }\n                }\n            },\n            //上传失败事件\n            handleError(err, file, fileList) {\n                if (this.onError) {\n                    this.onError(err, file, fileList);\n                } else {\n                    this.handleRemove(file, fileList);\n                    this.$message.error(this.$t('pages.common.uploadFileError'));\n                }\n            },\n            //文件移除前事件\n            handleBeforeRemove(file, fileList) {\n                if (this.beforeRemove) {\n                    this.beforeRemove(file, fileList);\n                }\n\n            },\n            //删除事件\n            handleRemove(file, fileList) {\n                if (this.onRemove) {\n                    this.onRemove(file, fileList);\n                } else {\n                    let index = fileList.findIndex(item => item.uid == file.uid);\n                    if (index != -1) {\n                        fileList.splice(index, 1);\n                    }\n                    this.$emit('change', fileList);\n                }\n            },\n            //文件状态改变事件\n            handleChange(file, fileList) {\n                if (this.onChange) {\n                    this.onChange(file, fileList);\n                }\n            },\n            //暂停播放音频视频\n            handlePause() {\n                if (this.$refs.audio) {\n                    this.$refs.audio.pause();\n                    this.dialogAudioVisible = false;\n                }\n                if (this.$refs.video) {\n                    this.$refs.video.pause();\n                    this.dialogVideoVisible = false;\n                }\n            },\n            //进度百分比\n            parsePercentage(val) {\n                return parseInt(val, 10);\n            },\n        },\n        created() {\n        }\n    }\n</script>\n\n<style scoped>\n    .avatar-uploader >>> .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n\n    .avatar-uploader .el-upload:hover {\n        border-color: #409EFF;\n    }\n\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n\n    .avatar {\n        width: 178px;\n        height: 178px;\n        display: block;\n    }\n</style>\n"]}]}