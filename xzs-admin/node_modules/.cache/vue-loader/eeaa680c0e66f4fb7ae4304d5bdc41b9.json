{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/task/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/task/list.vue","mtime":1616920187951},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nCmltcG9ydCB0YXNrQXBpIGZyb20gJ0AvYXBpL3Rhc2snCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBQYWdpbmF0aW9uIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeVBhcmFtOiB7CiAgICAgICAgZ3JhZGVMZXZlbDogbnVsbCwKICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0b3RhbDogMAogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLnNlYXJjaCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2ggKCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICB0YXNrQXBpLnBhZ2VMaXN0KHRoaXMucXVlcnlQYXJhbSkudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zdCByZSA9IGRhdGEucmVzcG9uc2UKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlLmxpc3QKICAgICAgICB0aGlzLnRvdGFsID0gcmUudG90YWwKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZUluZGV4ID0gcmUucGFnZU51bQogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIHN1Ym1pdEZvcm0gKCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZUluZGV4ID0gMQogICAgICB0aGlzLnNlYXJjaCgpCiAgICB9LAogICAgZGVsZXRlVGFzayAocm93KSB7CiAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgdGFza0FwaS5kZWxldGVUYXNrKHJvdy5pZCkudGhlbihyZSA9PiB7CiAgICAgICAgaWYgKHJlLmNvZGUgPT09IDEpIHsKICAgICAgICAgIF90aGlzLnNlYXJjaCgpCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlLm1lc3NhZ2UpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlLm1lc3NhZ2UpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGxldmVsRm9ybWF0dGVyICAocm93LCBjb2x1bW4sIGNlbGxWYWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuZW51bUZvcm1hdCh0aGlzLmxldmVsRW51bSwgY2VsbFZhbHVlKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoJ2VudW1JdGVtJywgWydlbnVtRm9ybWF0J10pLAogICAgLi4ubWFwU3RhdGUoJ2VudW1JdGVtJywgewogICAgICBsZXZlbEVudW06IHN0YXRlID0+IHN0YXRlLnVzZXIubGV2ZWxFbnVtCiAgICB9KQogIH0KfQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/task","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParam\" ref=\"queryForm\" :inline=\"true\">\n      <el-form-item label=\"年级：\">\n        <el-select v-model=\"queryParam.gradeLevel\" placeholder=\"年级\" clearable>\n          <el-option v-for=\"item in levelEnum\" :key=\"item.key\" :value=\"item.key\" :label=\"item.value\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">查询</el-button>\n        <router-link :to=\"{path:'/exam/task/edit'}\" class=\"link-left\">\n          <el-button type=\"primary\">添加</el-button>\n        </router-link>\n      </el-form-item>\n    </el-form>\n\n    <el-table v-loading=\"listLoading\" :data=\"tableData\" border fit highlight-current-row style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"Id\"  width=\"100\" />\n      <el-table-column prop=\"title\" label=\"标题\" />\n      <el-table-column prop=\"gradeLevel\" label=\"学级\"  :formatter=\"levelFormatter\"/>\n      <el-table-column prop=\"createUserName\" label=\"发送人\"  width=\"100\" />\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160px\"/>\n      <el-table-column  label=\"操作\" align=\"center\"  width=\"160px\">\n        <template slot-scope=\"{row}\">\n          <el-button size=\"mini\" @click=\"$router.push({path:'/exam/task/edit',query:{id:row.id}})\" >编辑</el-button>\n          <el-button size=\"mini\"  type=\"danger\" @click=\"deleteTask(row)\" class=\"link-left\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryParam.pageIndex\" :limit.sync=\"queryParam.pageSize\"\n                @pagination=\"search\"/>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nimport Pagination from '@/components/Pagination'\nimport taskApi from '@/api/task'\n\nexport default {\n  components: { Pagination },\n  data () {\n    return {\n      queryParam: {\n        gradeLevel: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      listLoading: true,\n      tableData: [],\n      total: 0\n    }\n  },\n  created () {\n    this.search()\n  },\n  methods: {\n    search () {\n      this.listLoading = true\n      taskApi.pageList(this.queryParam).then(data => {\n        const re = data.response\n        this.tableData = re.list\n        this.total = re.total\n        this.queryParam.pageIndex = re.pageNum\n        this.listLoading = false\n      })\n    },\n    submitForm () {\n      this.queryParam.pageIndex = 1\n      this.search()\n    },\n    deleteTask (row) {\n      let _this = this\n      taskApi.deleteTask(row.id).then(re => {\n        if (re.code === 1) {\n          _this.search()\n          _this.$message.success(re.message)\n        } else {\n          _this.$message.error(re.message)\n        }\n      })\n    },\n    levelFormatter  (row, column, cellValue, index) {\n      return this.enumFormat(this.levelEnum, cellValue)\n    }\n  },\n  computed: {\n    ...mapGetters('enumItem', ['enumFormat']),\n    ...mapState('enumItem', {\n      levelEnum: state => state.user.levelEnum\n    })\n  }\n}\n</script>\n"]}]}