{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/paper/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/paper/edit.vue","mtime":1622549311194},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJwppbXBvcnQgUXVlc3Rpb25TaG93IGZyb20gJy4uL3F1ZXN0aW9uL2NvbXBvbmVudHMvU2hvdycKaW1wb3J0IGV4YW1QYXBlckFwaSBmcm9tICdAL2FwaS9leGFtUGFwZXInCmltcG9ydCBxdWVzdGlvbkFwaSBmcm9tICdAL2FwaS9xdWVzdGlvbicKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24sIFF1ZXN0aW9uU2hvdyB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGxldmVsOiBudWxsLAogICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgbGltaXREYXRlVGltZTogW10sCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc2NvcmU6MCwKICAgICAgICBzY29yZXM6MCwKICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICB0aXRsZUl0ZW1zOiBbXQogICAgICB9LAogICAgICBzdWJqZWN0RmlsdGVyOiBudWxsLAogICAgICBmb3JtTG9hZGluZzogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbGV2ZWw6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlubTnuqcnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICBzdWJqZWN0SWQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlrabnp5EnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICBwYXBlclR5cGU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nor5XljbfnsbvlnosnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgXSwKICAgICAgICBuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6K+V5Y235ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIHN1Z2dlc3RUaW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5bu66K6u5pe26ZW/JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHF1ZXN0aW9uUGFnZTogewogICAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgICBxdWVyeVBhcmFtOiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIHF1ZXN0aW9uVHlwZTogbnVsbCwKICAgICAgICAgIHN1YmplY3RJZDogJycsCiAgICAgICAgICBjaGFwdGVySWQ6JycsCiAgICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgICBwYWdlU2l6ZTogNQogICAgICAgIH0sCiAgICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgICB0b3RhbDogMAogICAgICB9LAogICAgICBhdXRvUGFnZTp7CiAgICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgICAgdHlwZVBhZ2U6ewogICAgICAgICAgdHlwZUl0ZW1zOiBbewogICAgICAgICAgICBudW06bnVsbCwKICAgICAgICAgICAgbGV2ZWw6bnVsbCwKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGNoYXB0ZXJJZDonJywKICAgICAgICAgICAgdHlwZUl0ZW1zOiBbXQogICAgICAgICAgfV0sCiAgICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgICBsaW1pdERhdGVUaW1lOiBudWxsLAogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICAgIHF1ZXN0aW9uU2VsZWN0SXRlbXM6W3sKICAgICAgICAgICAgbnVtOm51bGwsCiAgICAgICAgICAgIGxldmVsOm51bGwsCiAgICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOm51bGwsCiAgICAgICAgICAgIGNoYXB0ZXJJZDpudWxsCiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgICAKICAgICAgfSwKICAgICAgdGVtcGxhdGUxOnsKICAgICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgICB0eXBlUGFnZTp7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTo1LAogICAgICAgICAgICBsZXZlbDpudWxsLAogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgY2hhcHRlcklkOicnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczpbewogICAgICAgICAgICBudW06NSwKICAgICAgICAgICAgbGV2ZWw6MSwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6MSwKICAgICAgICAgICBzY29yZToxMAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbnVtOjUsCiAgICAgICAgICAgIGxldmVsOjEsCiAgICAgICAgICAgIHN1YmplY3RJZDogMSwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOjIsCiAgICAgICAgICAgIHNjb3JlOjEwCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgICAKICAgICAgfSwKICAgICAgIHRlbXBsYXRlMjp7CiAgICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgICAgdHlwZVBhZ2U6ewogICAgICAgICAgdHlwZUl0ZW1zOiBbewogICAgICAgICAgICBudW06NSwKICAgICAgICAgICAgbGV2ZWw6bnVsbCwKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGNoYXB0ZXJJZDonJywKICAgICAgICAgICAgdHlwZUl0ZW1zOiBbXQogICAgICAgICAgfV0sCiAgICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgICBsaW1pdERhdGVUaW1lOiBudWxsLAogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICAgIHF1ZXN0aW9uU2VsZWN0SXRlbXM6W3sKICAgICAgICAgICAgbnVtOjEsCiAgICAgICAgICAgIGxldmVsOjEsCiAgICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOjEsCiAgICAgICAgICAgc2NvcmU6NQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbnVtOjEsCiAgICAgICAgICAgIGxldmVsOjEsCiAgICAgICAgICAgIHN1YmplY3RJZDogMSwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOjIsCiAgICAgICAgICAgIHNjb3JlOjYKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICAgIAogICAgICB9LAogICAgICAgdGVtcGxhdGUzOnsKICAgICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgICB0eXBlUGFnZTp7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTo1LAogICAgICAgICAgICBsZXZlbDpudWxsLAogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgY2hhcHRlcklkOicnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczpbewogICAgICAgICAgICBudW06MSwKICAgICAgICAgICAgbGV2ZWw6MSwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6MSwKICAgICAgICAgICBzY29yZTo1CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBudW06MSwKICAgICAgICAgICAgbGV2ZWw6MSwKICAgICAgICAgICAgc3ViamVjdElkOiAxLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6MiwKICAgICAgICAgICAgc2NvcmU6NgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgICB9LAogICAgICAgICAgCiAgICAgIH0sCiAgICAgIHF1ZXJ5Q2hhOnsKICAgICAgICAgIHBhZ2VJbmRleDoxLAogICAgICAgICAgcGFnZVNpemU6MTAwLAogICAgICAgICAgc3ViamVjdElkOicnLAogICAgICAgICAgZ3JhZGVMZXZlbDonJywKICAgICAgICB9LAogICAgICBjaGFwdGVyczonJywKICAgICAKICAgICAgY3VycmVudFRpdGxlSXRlbTogW10sCiAgICAgIAogICAgICAKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgbGV0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQKICAgIGxldCBfdGhpcyA9IHRoaXMKICAvLyAgdGhpcy5hdXRvUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLnF1ZXN0aW9uVHlwZT10aGlzLnF1ZXN0aW9uUGFnZS5xdWVyeVBhcmFtLnF1ZXN0aW9uVHlwZQogICAgdGhpcy5pbml0U3ViamVjdChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnN1YmplY3RGaWx0ZXIgPSBfdGhpcy5zdWJqZWN0cwogICAgfSkKICAgIGlmIChpZCAmJiBwYXJzZUludChpZCkgIT09IDApIHsKICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSB0cnVlCiAgICAgIGV4YW1QYXBlckFwaS5zZWxlY3QoaWQpLnRoZW4ocmUgPT4gewogICAgICAgIF90aGlzLmZvcm0gPSByZS5yZXNwb25zZQogICAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0KICAgdGhpcy5mb3JtCiAgICAKCiAgfSwKICB3YXRjaDogewogICAgLy/lr7nosaHlj4zlkJHmlbDmja7nu5HlrpoKICAgICAnZm9ybS5zdWJqZWN0SWQnKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGBuZXc6JHtuZXdWYWx9LCBvbGQ6JHtvbGRWYWx9YCk7CiAgICAgICBpZihuZXdWYWwpewogICAgICAgICB0aGlzLnF1ZXJ5Q2hhLnN1YmplY3RJZD1uZXdWYWw7CiAgICAgICAgIHRoaXMuZ2V0Q2hhcHRlcigpOwogICAgICAgfQogICAgfSwgCiAvKiAgJ2Zvcm0udGl0bGVJdGVtcycobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgY29uc29sZS5sb2cobmV3VmFsKTsKICAgICAgIGlmKG5ld1ZhbCl7CiAgICAgICAgIC8v6K6h566X5oC75YiGCiAgICAgICAgIGxldCBzY29yZXM9MAogICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgICAgIGxldCBzY29yZT0gTnVtYmVyKHRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnNjb3JlKTsKICAgICAgICAgICBsZXQgbGVuPXRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXMubGVuZ3RoOwogICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKmxlbik7CiAgICAgICAgICAgIGxldCBzdW09c2NvcmUqbGVuOwogICAgICAgICAgIHNjb3Jlcz1zY29yZStzdW07CiAgICAgICAgICAgY29uc29sZS5sb2coc2NvcmVzKTsKICAgICAgICAgfQogICAgICAgICB0aGlzLmZvcm0uc2NvcmVzPXNjb3JlczsKICAgICAgICAgCiAgICAgICAgCiAgICAgICAgIAogICAgICAgfQogICAgfSwgKi8KCiAgICB0aXRsZUl0ZW1zKG5ld1ZhbCwgb2xkVmFsdWUpewogICAgICAgY29uc29sZS5sb2cobmV3VmFsKTsKICAgICAgIGlmKG5ld1ZhbCl7CiAgICAgICAgIC8v6K6h566X5oC75YiGCiAgICAgICAgIGxldCBzY29yZXM9MAogICAgICAgICAgaWYodGhpcy5mb3JtLnRpdGxlSXRlbXMubGVuZ3RoPjApewogICAgICAgaWYodGhpcy5mb3JtLnRpdGxlSXRlbXNbMF0ucXVlc3Rpb25JdGVtcy5sZW5ndGg+MCl7CiAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtLnRpdGxlSXRlbXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgbGV0IHNjb3JlPSBOdW1iZXIodGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0uc2NvcmUpOwogICAgICAgICAgIGxldCBsZW49dGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0ucXVlc3Rpb25JdGVtcy5sZW5ndGg7CiAgICAgICAgICAgY29uc29sZS5sb2cobGVuKTsKICAgICAgICAgICBjb25zb2xlLmxvZyhzY29yZSk7CiAgICAgICAgICAgIGxldCBzdW09c2NvcmUqbGVuOwogICAgICAgICAgIHNjb3Jlcz1zY29yZXMrc3VtOwogICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3Jlcyk7CiAgICAgICAgIH0KICAgICAgICAgdGhpcy5mb3JtLnNjb3Jlcz1zY29yZXM7CiAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgIAogICAgICAgIAogICAgICAgICAKICAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgICBnZXRDaGFwdGVyKCl7CiAgICBxdWVzdGlvbkFwaS5jaGFwdGVyTGlzdCh0aGlzLnF1ZXJ5Q2hhKS50aGVuKHJlPT57CiAgICAgICAgbGV0IGxpc3Q9cmUucmVzcG9uc2UubGlzdDsKICAgICAgICBsZXQgbGlzdDE9W107CiAgICAgICAgLy9sZXQgY2hhSWQ9W107CiAgICAgICAgLy/ljrvpmaTnqbrpobkKICAgICAgICB0aGlzLmNoYUlkPVtdCiAgICAgICBmb3IobGV0IGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgIHRoaXMuY2hhSWQucHVzaChsaXN0W2ldLmlkKQogICAgICAgICBpZihsaXN0W2ldLm5hbWUpewogICAgICAgICAgIGxpc3QxLnB1c2gobGlzdFtpXSkKICAgICAgICAgfQogICAgICAgfQogICAgICAgIAogICAgICAgIHRoaXMuY2hhcHRlcnM9bGlzdDEKICAgICAgICAvLyB0aGlzLmZvcm0uY2hhcHRlcklkPVN0cmluZyh0aGlzLmNoYXB0ZXJTaG93LmNoYXB0ZXJzWzBdLmlkKQogICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNoYXB0ZXJzKQogICAgfSkKICAgICB9LAogICAgc3VibWl0Rm9ybSAoKSB7CiAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IHRydWUKICAgICAgICAgIGV4YW1QYXBlckFwaS5lZGl0KHRoaXMuZm9ybSkudGhlbihyZSA9PiB7CiAgICAgICAgICAgIGlmIChyZS5jb2RlID09PSAxKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZS5tZXNzYWdlKQogICAgICAgICAgICAgIF90aGlzLmRlbEN1cnJlbnRWaWV3KF90aGlzKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2V4YW0vcGFwZXIvbGlzdCcpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZS5tZXNzYWdlKQogICAgICAgICAgICAgIHRoaXMuZm9ybUxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgYWRkVGl0bGUgKCkgewogICAgICB0aGlzLmZvcm0udGl0bGVJdGVtcy5wdXNoKHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzY29yZTonJywKICAgICAgICBxdWVzdGlvbkl0ZW1zOiBbXSwKICAgICAgfSkKICAgIH0sCiAgICAvL+a3u+WKoOmimOWeiwogICAgIGFkZFR5cGUgKCkgewogICAgICB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMucHVzaCh7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdHlwZUl0ZW1zOiBbXSwKICAgICAgICBudW06bnVsbCwKICAgICAgICBsZXZlbDpudWxsLAogICAgICAgIGNoYXB0ZXJJZDpudWxsCiAgICAgIH0pCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcykKICAgIH0sCiAgICBhZGRRdWVzdGlvbiAodGl0bGVJdGVtKSB7CiAgICAgIHRoaXMuY3VycmVudFRpdGxlSXRlbSA9IHRpdGxlSXRlbQogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5zaG93RGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLnNlYXJjaCgpCiAgICB9LAogICAgIGFkZEF1dG8gKHRpdGxlSXRlbSkgewogICAgICB0aGlzLmN1cnJlbnRUaXRsZUl0ZW0gPSB0aXRsZUl0ZW0KICAgICAgdGhpcy5hdXRvUGFnZS5zaG93RGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLnNlYXJjaCgpCiAgICB9LAogICAgIAogICAgcmVtb3ZlVGl0bGVJdGVtICh0aXRsZUl0ZW0pIHsKICAgICAgdGhpcy5mb3JtLnRpdGxlSXRlbXMucmVtb3ZlKHRpdGxlSXRlbSkKICAgIH0sCiAgICByZW1vdmVRdWVzdGlvbiAodGl0bGVJdGVtLCBxdWVzdGlvbkl0ZW0pIHsKICAgICAgdGl0bGVJdGVtLnF1ZXN0aW9uSXRlbXMucmVtb3ZlKHF1ZXN0aW9uSXRlbSkKICAgIH0sCiAgICBxdWVyeUZvcm0gKCkgewogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5xdWVyeVBhcmFtLnBhZ2VJbmRleCA9IDEKICAgICAgdGhpcy5zZWFyY2goKQogICAgfSwKICAgIGNvbmZpcm1RdWVzdGlvblNlbGVjdCAoKSB7CiAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgdGhpcy5xdWVzdGlvblBhZ2UubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChxID0+IHsKICAgICAgICBxdWVzdGlvbkFwaS5zZWxlY3QocS5pZCkudGhlbihyZSA9PiB7CiAgICAgICAgICBfdGhpcy5jdXJyZW50VGl0bGVJdGVtLnF1ZXN0aW9uSXRlbXMucHVzaChyZS5yZXNwb25zZSkKICAgICAgICAgLy8gY29uc29sZS5sb2coX3RoaXMuY3VycmVudFRpdGxlSXRlbSkKICAgICAgICB9KQogICAgICB9KQogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5zaG93RGlhbG9nID0gZmFsc2UKICAgIH0sCiAgICAgIC8vICDoh6rliqjnu4TljbcKICAgIGNvbmZpcm1UeXBlKCl7CiAgICAgIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2Uuc3ViamVjdElkPXRoaXMuZm9ybS5zdWJqZWN0SWQ7CiAgICAgIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2Uuc3VnZ2VzdFRpbWU9dGhpcy5mb3JtLnN1Z2dlc3RUaW1lOwogICAgICBmb3IobGV0IGk9MDtpPHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5sZW5ndGg7aSsrKXsKICAgICAgICB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0ubmFtZT0nJwogICAgICAgIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5zdWJqZWN0SWQ9dGhpcy5mb3JtLnN1YmplY3RJZDsKICAgICAgIC8vIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5xdWVzdGlvblR5cGU9IHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5xdWVzdGlvblR5cGU7CiAgICAgIH0KICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKQogICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgIGV4YW1QYXBlckFwaS5hdXRvKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBjb25zdCByZSA9IGRhdGEucmVzcG9uc2UKICAgICAgICAgIAogICAgICAgICAgIC8vIHRoaXMuYXV0b2Zvcm0udGl0bGVJdGVtcy5xdWVzdGlvbkl0ZW1zPVtdCiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8cmUudGl0bGVJdGVtcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgbGV0IHRtcD1yZS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXM7CiAgICAgICAgICAgICAgIGxldCBfc2NvcmU9cmUudGl0bGVJdGVtc1tpXS5zY29yZQogICAgICAgICAgICAgICAgIHRoaXMuZm9ybS50aXRsZUl0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSXRlbXM6dG1wLAogICAgICAgICAgICAgICAgICAgIHNjb3JlOl9zY29yZQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAvLyAgZm9yKGxldCBqPTA7ajxyZS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXMubGVuZ3RoO2orKyl7CiAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlLnRpdGxlSXRlbXNbaV0ucXVlc3Rpb25JdGVtc1tqXSkKICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyB0aGlzLmN1cnJlbnRUaXRsZUl0ZW0ucXVlc3Rpb25JdGVtcy5wdXNoKHRtcCkKICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXNbal0ucHVzaCh0bXApCiAgICAgICAgICAgICAgICAvKiAgIHRoaXMuJHNldCh0aGlzLmF1dG9mb3JtLnRpdGxlSXRlbXMsaix7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSXRlbXM6IHRtcCwKICAgICAgICAgICAgICAgICAgfSkqLwogICAgICAgICAgICAgLy8gfQogICAgICAgICAgICB9CiAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtLnRpdGxlSXRlbXMpCiAgICAgICAgICAKICAgICAgICB9KQogICAgICAgIC8vdGhpcy4kcmVmc1snYXV0b1BhZ2UnXS5yZXNldEZpZWxkcygpICAvLyDov5nph4zlj6/ku6XmjaLlgZrnp7vpmaTmoLflvI/nmoTmlrnms5VjbGVhclZhbGlkYXRlCiAgICAgICAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlID0gY29weVByb3BzKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpICAKICAgICAgCiAgICAgICAgdGhpcy5hdXRvUGFnZS5zaG93RGlhbG9nID0gZmFsc2UKICAgIH0sCiAgICBjbG9zZURpYWxvZygpewogICAgICB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlPXt0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTpudWxsLAogICAgICAgICAgICBsZXZlbDpudWxsLAogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgdHlwZUl0ZW1zOiBbXQogICAgICAgICAgfV0sCiAgICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgICBsaW1pdERhdGVUaW1lOiBudWxsLAogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICAgIHF1ZXN0aW9uU2VsZWN0SXRlbXM6W3sKICAgICAgICAgICAgbnVtOm51bGwsCiAgICAgICAgICAgIGxldmVsOm51bGwsCiAgICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOm51bGwKICAgICAgICAgIH1dCiAgICAgIH0KICAgIH0sCiAgICAgY2xvc2VEaWFsb2cxKCl7CiAgICAgICAKICAgICB9LAogICAgLy/orqHnrpfliIbmlbAKICAvKiAgY29tcHV0ZVNjb3JlKCl7CiAgICAgIGxldCBzY29yZXM9MAogICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgICAgIGxldCBzY29yZT0gTnVtYmVyKHRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnNjb3JlKTsKICAgICAgICAgICBsZXQgbGVuPXRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXMubGVuZ3RoOwogICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKmxlbik7CiAgICAgICAgICAgIGxldCBzdW09c2NvcmUqbGVuOwogICAgICAgICAgIHNjb3Jlcz1zY29yZStzdW07CiAgICAgICAgICAgY29uc29sZS5sb2coc2NvcmVzKTsKICAgICAgICAgfQogICAgICAgICB0aGlzLmZvcm0uc2NvcmVzPXNjb3JlczsKICAgIH0sKi8KICAgIC8v5qih5p2/CiAgICB0Q2xpY2sxKCl7CiAgICAgIHRoaXMudGVtcGxhdGUxLnNob3dEaWFsb2c9dHJ1ZQogICAgfSwKICAgIHRDbGljazIoKXsKICAgICAgdGhpcy50ZW1wbGF0ZTIuc2hvd0RpYWxvZz10cnVlCiAgICB9LAogICAgdENsaWNrMygpewogICAgICB0aGlzLnRlbXBsYXRlMy5zaG93RGlhbG9nPXRydWUKICAgIH0sCiAgICBjb25maXJtVDEoKXsKICAgICAgdGhpcy50ZW1wbGF0ZTEudHlwZVBhZ2Uuc3ViamVjdElkPXRoaXMuZm9ybS5zdWJqZWN0SWQ7CiAgICAgIHRoaXMudGVtcGxhdGUxLnR5cGVQYWdlLnN1Z2dlc3RUaW1lPXRoaXMuZm9ybS5zdWdnZXN0VGltZTsKICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnRlbXBsYXRlMS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgIHRoaXMudGVtcGxhdGUxLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0ubmFtZT0nJwogICAgICAgIHRoaXMudGVtcGxhdGUxLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0uc3ViamVjdElkPXRoaXMuZm9ybS5zdWJqZWN0SWQ7CiAgICAgICAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0ucXVlc3Rpb25UeXBlPSB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMucXVlc3Rpb25UeXBlOwogICAgICB9CiAgICAgLy8gY29uc29sZS5sb2codGhpcy5hdXRvUGFnZS50eXBlUGFnZSkKICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICBleGFtUGFwZXJBcGkuYXV0byh0aGlzLnRlbXBsYXRlMS50eXBlUGFnZSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIGNvbnN0IHJlID0gZGF0YS5yZXNwb25zZQogICAgICAgICAgCiAgICAgICAgICAgLy8gdGhpcy5hdXRvZm9ybS50aXRsZUl0ZW1zLnF1ZXN0aW9uSXRlbXM9W10KICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxyZS50aXRsZUl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgICAgICAgIGxldCB0bXA9cmUudGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zOwogICAgICAgICAgICAgICBsZXQgX3Njb3JlPXJlLnRpdGxlSXRlbXNbaV0uc2NvcmUKICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udGl0bGVJdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbkl0ZW1zOnRtcCwKICAgICAgICAgICAgICAgICAgICBzY29yZTpfc2NvcmUKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAKICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0udGl0bGVJdGVtcykKICAgICAgICAgIAogICAgICAgIH0pCiAgICAgICAgLy90aGlzLiRyZWZzWydhdXRvUGFnZSddLnJlc2V0RmllbGRzKCkgIC8vIOi/memHjOWPr+S7peaNouWBmuenu+mZpOagt+W8j+eahOaWueazlWNsZWFyVmFsaWRhdGUKICAgICAgIC8vIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UgPSBjb3B5UHJvcHModGhpcy5hdXRvUGFnZS50eXBlUGFnZSkgIAogICAgICAKICAgICAgICB0aGlzLnRlbXBsYXRlMS5zaG93RGlhbG9nID0gZmFsc2UKICAgIH0sCiAgICAgY29uZmlybVQyKCl7CiAgICAgIHRoaXMudGVtcGxhdGUyLnR5cGVQYWdlLnN1YmplY3RJZD10aGlzLmZvcm0uc3ViamVjdElkOwogICAgICB0aGlzLnRlbXBsYXRlMi50eXBlUGFnZS5zdWdnZXN0VGltZT10aGlzLmZvcm0uc3VnZ2VzdFRpbWU7CiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy50ZW1wbGF0ZTIudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5sZW5ndGg7aSsrKXsKICAgICAgICB0aGlzLnRlbXBsYXRlMi50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLm5hbWU9JycKICAgICAgICB0aGlzLnRlbXBsYXRlMi50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLnN1YmplY3RJZD10aGlzLmZvcm0uc3ViamVjdElkOwogICAgICAgLy8gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLnF1ZXN0aW9uVHlwZT0gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLnF1ZXN0aW9uVHlwZTsKICAgICAgfQogICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpCiAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgICAgZXhhbVBhcGVyQXBpLmF1dG8odGhpcy50ZW1wbGF0ZTIudHlwZVBhZ2UpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBjb25zdCByZSA9IGRhdGEucmVzcG9uc2UKICAgICAgICAgIAogICAgICAgICAgIC8vIHRoaXMuYXV0b2Zvcm0udGl0bGVJdGVtcy5xdWVzdGlvbkl0ZW1zPVtdCiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8cmUudGl0bGVJdGVtcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICBsZXQgdG1wPXJlLnRpdGxlSXRlbXNbaV0ucXVlc3Rpb25JdGVtczsKICAgICAgICAgICAgICAgbGV0IF9zY29yZT1yZS50aXRsZUl0ZW1zW2ldLnNjb3JlCiAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnRpdGxlSXRlbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25JdGVtczp0bXAsCiAgICAgICAgICAgICAgICAgICAgc2NvcmU6X3Njb3JlCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLnRpdGxlSXRlbXMpCiAgICAgICAgICAKICAgICAgICB9KQogICAgICAgIC8vdGhpcy4kcmVmc1snYXV0b1BhZ2UnXS5yZXNldEZpZWxkcygpICAvLyDov5nph4zlj6/ku6XmjaLlgZrnp7vpmaTmoLflvI/nmoTmlrnms5VjbGVhclZhbGlkYXRlCiAgICAgICAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlID0gY29weVByb3BzKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpICAKICAgICAgCiAgICAgICAgdGhpcy50ZW1wbGF0ZTIuc2hvd0RpYWxvZyA9IGZhbHNlCiAgICB9LAogICAgIGNvbmZpcm1UMygpewogICAgICB0aGlzLnRlbXBsYXRlMy50eXBlUGFnZS5zdWJqZWN0SWQ9dGhpcy5mb3JtLnN1YmplY3RJZDsKICAgICAgdGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2Uuc3VnZ2VzdFRpbWU9dGhpcy5mb3JtLnN1Z2dlc3RUaW1lOwogICAgICBmb3IobGV0IGk9MDtpPHRoaXMudGVtcGxhdGUzLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMubGVuZ3RoO2krKyl7CiAgICAgICAgdGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5uYW1lPScnCiAgICAgICAgdGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5zdWJqZWN0SWQ9dGhpcy5mb3JtLnN1YmplY3RJZDsKICAgICAgIC8vIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5xdWVzdGlvblR5cGU9IHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5xdWVzdGlvblR5cGU7CiAgICAgIH0KICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKQogICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgIGV4YW1QYXBlckFwaS5hdXRvKHRoaXMudGVtcGxhdGUzLnR5cGVQYWdlKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgY29uc3QgcmUgPSBkYXRhLnJlc3BvbnNlCiAgICAgICAgICAKICAgICAgICAgICAvLyB0aGlzLmF1dG9mb3JtLnRpdGxlSXRlbXMucXVlc3Rpb25JdGVtcz1bXQogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHJlLnRpdGxlSXRlbXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgbGV0IHRtcD1yZS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXM7CiAgICAgICAgICAgICAgIGxldCBfc2NvcmU9cmUudGl0bGVJdGVtc1tpXS5zY29yZQogICAgICAgICAgICAgICAgIHRoaXMuZm9ybS50aXRsZUl0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSXRlbXM6dG1wLAogICAgICAgICAgICAgICAgICAgIHNjb3JlOl9zY29yZQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50aXRsZUl0ZW1zKQogICAgICAgICAgCiAgICAgICAgfSkKICAgICAgICAvL3RoaXMuJHJlZnNbJ2F1dG9QYWdlJ10ucmVzZXRGaWVsZHMoKSAgLy8g6L+Z6YeM5Y+v5Lul5o2i5YGa56e76Zmk5qC35byP55qE5pa55rOVY2xlYXJWYWxpZGF0ZQogICAgICAgLy8gdGhpcy5hdXRvUGFnZS50eXBlUGFnZSA9IGNvcHlQcm9wcyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKSAgCiAgICAgIAogICAgICAgIHRoaXMudGVtcGxhdGUzLnNob3dEaWFsb2cgPSBmYWxzZQogICAgfSwKICAgIGxldmVsQ2hhbmdlICgpIHsKICAgICAgdGhpcy5mb3JtLnN1YmplY3RJZCA9IG51bGwKICAgICAgdGhpcy5zdWJqZWN0RmlsdGVyID0gdGhpcy5zdWJqZWN0cy5maWx0ZXIoZGF0YSA9PiBkYXRhLmxldmVsID09PSB0aGlzLmZvcm0ubGV2ZWwpCiAgICB9LAogICAgc2VhcmNoICgpIHsKICAgICAgdGhpcy5xdWVzdGlvblBhZ2UucXVlcnlQYXJhbS5zdWJqZWN0SWQgPSB0aGlzLmZvcm0uc3ViamVjdElkCiAgICAgIHRoaXMucXVlc3Rpb25QYWdlLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBxdWVzdGlvbkFwaS5wYWdlTGlzdCh0aGlzLnF1ZXN0aW9uUGFnZS5xdWVyeVBhcmFtKS50aGVuKGRhdGEgPT4gewogICAgICAgIGNvbnN0IHJlID0gZGF0YS5yZXNwb25zZQogICAgICAgIHRoaXMucXVlc3Rpb25QYWdlLnRhYmxlRGF0YSA9IHJlLmxpc3QKICAgICAgICB0aGlzLnF1ZXN0aW9uUGFnZS50b3RhbCA9IHJlLnRvdGFsCiAgICAgICAgdGhpcy5xdWVzdGlvblBhZ2UucXVlcnlQYXJhbS5wYWdlSW5kZXggPSByZS5wYWdlTnVtCiAgICAgICAgdGhpcy5xdWVzdGlvblBhZ2UubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMucXVlc3Rpb25QYWdlLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsCiAgICB9LAogICAgcXVlc3Rpb25UeXBlRm9ybWF0dGVyIChyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5lbnVtRm9ybWF0KHRoaXMucXVlc3Rpb25UeXBlRW51bSwgY2VsbFZhbHVlKQogICAgfSwKICAgIHN1YmplY3RGb3JtYXR0ZXIgKHJvdywgY29sdW1uLCBjZWxsVmFsdWUsIGluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLnN1YmplY3RFbnVtRm9ybWF0KGNlbGxWYWx1ZSkKICAgIH0sCiAgICByZXNldEZvcm0gKCkgewogICAgICB0aGlzLiRyZWZzWydmb3JtJ10ucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICBsaW1pdERhdGVUaW1lOiBbXSwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICB0aXRsZUl0ZW1zOiBbXQogICAgICB9CiAgICAgIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2U9e3R5cGVJdGVtczogW3sKICAgICAgICAgICAgbnVtOm51bGwsCiAgICAgICAgICAgIGxldmVsOm51bGwsCiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczpbewogICAgICAgICAgICBudW06bnVsbCwKICAgICAgICAgICAgbGV2ZWw6bnVsbCwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6bnVsbAogICAgICAgICAgfV0KICAgICAgfQogICAgfSwKICAgIC4uLm1hcEFjdGlvbnMoJ2V4YW0nLCB7IGluaXRTdWJqZWN0OiAnaW5pdFN1YmplY3QnIH0pLAogICAgLi4ubWFwQWN0aW9ucygndGFnc1ZpZXcnLCB7IGRlbEN1cnJlbnRWaWV3OiAnZGVsQ3VycmVudFZpZXcnIH0pCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycygnZW51bUl0ZW0nLCBbJ2VudW1Gb3JtYXQnXSksCiAgICAuLi5tYXBTdGF0ZSgnZW51bUl0ZW0nLCB7CiAgICAgIHF1ZXN0aW9uVHlwZUVudW06IHN0YXRlID0+IHN0YXRlLmV4YW0ucXVlc3Rpb24udHlwZUVudW0sCiAgICAgIHBhcGVyVHlwZUVudW06IHN0YXRlID0+IHN0YXRlLmV4YW0uZXhhbVBhcGVyLnBhcGVyVHlwZUVudW0sCiAgICAgIGxldmVsRW51bTogc3RhdGUgPT4gc3RhdGUudXNlci5sZXZlbEVudW0KICAgIH0pLAogICAgLi4ubWFwU3RhdGUoJ2V4YW0nLCB7IHN1YmplY3RzOiBzdGF0ZSA9PiBzdGF0ZS5zdWJqZWN0cyB9KSwKICAgIC8qbWF4VmFsdWUoKXsKICAgICAgcmV0dXJuICfmnIDlpJrovpPlhaUnK3RoaXMucXVlc3Rpb25QYWdlLnRvdGFsCiAgICB9LAogICAgKi8KICAgLy/nm5HlkKzlr7nosaHlsZ7mgKflj5jljJYKICAgdGl0bGVJdGVtcygpewogICAgIHJldHVybiB0aGlzLmZvcm0udGl0bGVJdGVtczsKICAgfSwKICAgc2NvcmVzKCl7CiAgICAgbGV0IHNjb3Jlcz0wOwogICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aCk7CiAgICAgY29uc29sZS5sb2codGhpcy5mb3JtLnRpdGxlSXRlbXMpOwogICAgIAogICAgIGlmKHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aD4wKXsKICAgICAgIGlmKHRoaXMuZm9ybS50aXRsZUl0ZW1zWzBdLnF1ZXN0aW9uSXRlbXMubGVuZ3RoPjApewogICAgICAgIHNjb3Jlcz0wCiAgICAgICAgIGNvbnNvbGUubG9nKHNjb3Jlcyk7CiAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtLnRpdGxlSXRlbXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgbGV0IHNjb3JlPSBOdW1iZXIodGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0uc2NvcmUpOwogICAgICAgICAgIGxldCBsZW49dGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0ucXVlc3Rpb25JdGVtcy5sZW5ndGg7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzY29yZSpsZW4pOwogICAgICAgICAgICBsZXQgc3VtPXNjb3JlKmxlbjsKICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxlbik7CiAgICAgICAgICAgY29uc29sZS5sb2coc2NvcmUpOwogICAgICAgICAgIHNjb3Jlcz1zY29yZXMrc3VtOwogICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3Jlcyk7CiAgICAgICAgIH0KICAgICAgICAgdGhpcy5mb3JtLnNjb3Jlcz1zY29yZXMKICAgICB9CiAgICAgfQogICAgICAKICAgICAgICByZXR1cm4gc2NvcmVzOwoKICAgfQogIAogIH0KfQo="},null]}