{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/question/edit/gap-filling.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/question/edit/gap-filling.vue","mtime":1609922416765},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBRdWVzdGlvblNob3cgZnJvbSAnLi4vY29tcG9uZW50cy9TaG93JwppbXBvcnQgVWVkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvVWVkaXRvcicKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgcXVlc3Rpb25BcGkgZnJvbSAnQC9hcGkvcXVlc3Rpb24nCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVWVkaXRvciwgUXVlc3Rpb25TaG93CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBxdWVzdGlvblR5cGU6IDQsCiAgICAgICAgZ3JhZGVMZXZlbDogbnVsbCwKICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGl0ZW1zOiBbCiAgICAgICAgXSwKICAgICAgICBhbmFseXplOiAnJywKICAgICAgICBjb3JyZWN0OiAnJywKICAgICAgICBzY29yZTogJycsCiAgICAgICAgZGlmZmljdWx0OiAwCiAgICAgIH0sCiAgICAgIHN1YmplY3RGaWx0ZXI6IG51bGwsCiAgICAgIGZvcm1Mb2FkaW5nOiBmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICBncmFkZUxldmVsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5bm057qnJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgc3ViamVjdElkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5a2m56eRJywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgdGl0bGU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXpopjlubInLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgYW5hbHl6ZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeino+aekCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBzY29yZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWIhuaVsCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9LAogICAgICByaWNoRWRpdG9yOiB7CiAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgb2JqZWN0OiBudWxsLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICcnLAogICAgICAgIGluc3RhbmNlOiBudWxsCiAgICAgIH0sCiAgICAgIHF1ZXN0aW9uU2hvdzogewogICAgICAgIHFUeXBlOiAwLAogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgcXVlc3Rpb246IG51bGwsCiAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBsZXQgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgbGV0IF90aGlzID0gdGhpcwogICAgdGhpcy5pbml0U3ViamVjdChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnN1YmplY3RGaWx0ZXIgPSBfdGhpcy5zdWJqZWN0cwogICAgfSkKICAgIGlmIChpZCAmJiBwYXJzZUludChpZCkgIT09IDApIHsKICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSB0cnVlCiAgICAgIHF1ZXN0aW9uQXBpLnNlbGVjdChpZCkudGhlbihyZSA9PiB7CiAgICAgICAgX3RoaXMuZm9ybSA9IHJlLnJlc3BvbnNlCiAgICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZWRpdG9yUmVhZHkgKGluc3RhbmNlKSB7CiAgICAgIHRoaXMucmljaEVkaXRvci5pbnN0YW5jZSA9IGluc3RhbmNlCiAgICAgIGxldCBjdXJyZW50Q29udGVudCA9IHRoaXMucmljaEVkaXRvci5vYmplY3RbdGhpcy5yaWNoRWRpdG9yLnBhcmFtZXRlck5hbWVdCiAgICAgIHRoaXMucmljaEVkaXRvci5pbnN0YW5jZS5zZXRDb250ZW50KGN1cnJlbnRDb250ZW50KQogICAgICAvLyDlhYnmoIflrprkvY3liLBVZWRpdG9yCiAgICAgIHRoaXMucmljaEVkaXRvci5pbnN0YW5jZS5mb2N1cyh0cnVlKQogICAgfSwKICAgIGlucHV0Q2xpY2sgKG9iamVjdCwgcGFyYW1ldGVyTmFtZSkgewogICAgICB0aGlzLnJpY2hFZGl0b3Iub2JqZWN0ID0gb2JqZWN0CiAgICAgIHRoaXMucmljaEVkaXRvci5wYXJhbWV0ZXJOYW1lID0gcGFyYW1ldGVyTmFtZQogICAgICB0aGlzLnJpY2hFZGl0b3IuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBlZGl0b3JDb25maXJtICgpIHsKICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLnJpY2hFZGl0b3IuaW5zdGFuY2UuZ2V0Q29udGVudCgpCiAgICAgIGlmICh0aGlzLnJpY2hFZGl0b3IucGFyYW1ldGVyTmFtZSA9PT0gJ3RpdGxlJykgeyAvLyDpopjlubLnmoTmraPnoa7nrZTmoYjph43nva4KICAgICAgICBpZiAodGhpcy5xdWVzdGlvbkl0ZW1SZXNldChjb250ZW50KSkgewogICAgICAgICAgdGhpcy5yaWNoRWRpdG9yLm9iamVjdFt0aGlzLnJpY2hFZGl0b3IucGFyYW1ldGVyTmFtZV0gPSBjb250ZW50CiAgICAgICAgICB0aGlzLnJpY2hFZGl0b3IuZGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmljaEVkaXRvci5vYmplY3RbdGhpcy5yaWNoRWRpdG9yLnBhcmFtZXRlck5hbWVdID0gY29udGVudAogICAgICAgIHRoaXMucmljaEVkaXRvci5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIHF1ZXN0aW9uSXRlbVJlc2V0IChjb250ZW50KSB7CiAgICAgIGxldCBzcGFuUmVnZXggPSBuZXcgUmVnRXhwKCc8c3BhbiBjbGFzcz0iZ2FwZmlsbGluZy1zcGFuICguKj8pIj4oLio/KTxcXC9zcGFuPicsICdnJykKICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICBsZXQgbmV3Rm9ybUl0ZW0gPSBbXQogICAgICBsZXQgZ2FwZmlsbGluZ0l0ZW1zID0gY29udGVudC5tYXRjaChzcGFuUmVnZXgpCiAgICAgIGlmIChnYXBmaWxsaW5nSXRlbXMgPT09IG51bGwpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fmj5LlhaXloavnqbonKQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIGdhcGZpbGxpbmdJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChzcGFuLCBpbmRleCkgewogICAgICAgIGxldCBwYWlyUmVnZXggPSAvPHNwYW4gY2xhc3M9ImdhcGZpbGxpbmctc3BhbiAoLio/KSI+KC4qPyk8XC9zcGFuPi8KICAgICAgICBwYWlyUmVnZXgudGVzdChzcGFuKQogICAgICAgIG5ld0Zvcm1JdGVtLnB1c2goeyBpZDogbnVsbCwgcHJlZml4OiBSZWdFeHAuJDIsIGNvbnRlbnQ6ICcnLCBzY29yZTogJzAnIH0pCiAgICAgIH0pCgogICAgICBuZXdGb3JtSXRlbS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMuZm9ybS5pdGVtcy5zb21lKChvbGRJdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKG9sZEl0ZW0uaXRlbVV1aWQgPT09IGl0ZW0uaXRlbVV1aWQpIHsKICAgICAgICAgICAgaXRlbS5jb250ZW50ID0gb2xkSXRlbS5jb250ZW50CiAgICAgICAgICAgIGl0ZW0uaWQgPSBvbGRJdGVtLmlkCiAgICAgICAgICAgIGl0ZW0uc2NvcmUgPSBvbGRJdGVtLnNjb3JlCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgICAgX3RoaXMuZm9ybS5pdGVtcyA9IG5ld0Zvcm1JdGVtCiAgICAgIHJldHVybiB0cnVlCiAgICB9LAogICAgc3VibWl0Rm9ybSAoKSB7CiAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IHRydWUKICAgICAgICAgIHF1ZXN0aW9uQXBpLmVkaXQodGhpcy5mb3JtKS50aGVuKHJlID0+IHsKICAgICAgICAgICAgaWYgKHJlLmNvZGUgPT09IDEpIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlLm1lc3NhZ2UpCiAgICAgICAgICAgICAgX3RoaXMuZGVsQ3VycmVudFZpZXcoX3RoaXMpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvZXhhbS9xdWVzdGlvbi9saXN0JykKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlLm1lc3NhZ2UpCiAgICAgICAgICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLmZvcm1Mb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBsZXZlbENoYW5nZSAoKSB7CiAgICAgIHRoaXMuZm9ybS5zdWJqZWN0SWQgPSBudWxsCiAgICAgIHRoaXMuc3ViamVjdEZpbHRlciA9IHRoaXMuc3ViamVjdHMuZmlsdGVyKGRhdGEgPT4gZGF0YS5sZXZlbCA9PT0gdGhpcy5mb3JtLmdyYWRlTGV2ZWwpCiAgICB9LAogICAgc2hvd1F1ZXN0aW9uICgpIHsKICAgICAgdGhpcy5xdWVzdGlvblNob3cuZGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLnF1ZXN0aW9uU2hvdy5xVHlwZSA9IHRoaXMuZm9ybS5xdWVzdGlvblR5cGUKICAgICAgdGhpcy5xdWVzdGlvblNob3cucXVlc3Rpb24gPSB0aGlzLmZvcm0KICAgIH0sCiAgICByZXNldEZvcm0gKCkgewogICAgICBsZXQgbGFzdElkID0gdGhpcy5mb3JtLmlkCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBxdWVzdGlvblR5cGU6IDQsCiAgICAgICAgZ3JhZGVMZXZlbDogbnVsbCwKICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGl0ZW1zOiBbCiAgICAgICAgXSwKICAgICAgICBhbmFseXplOiAnJywKICAgICAgICBjb3JyZWN0OiAnJywKICAgICAgICBzY29yZTogJycsCiAgICAgICAgZGlmZmljdWx0OiAwCiAgICAgIH0KICAgICAgdGhpcy5mb3JtLmlkID0gbGFzdElkCiAgICB9LAogICAgLi4ubWFwQWN0aW9ucygnZXhhbScsIHsgaW5pdFN1YmplY3Q6ICdpbml0U3ViamVjdCcgfSksCiAgICAuLi5tYXBBY3Rpb25zKCd0YWdzVmlldycsIHsgZGVsQ3VycmVudFZpZXc6ICdkZWxDdXJyZW50VmlldycgfSkKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCdlbnVtSXRlbScsIFsnZW51bUZvcm1hdCddKSwKICAgIC4uLm1hcFN0YXRlKCdlbnVtSXRlbScsIHsKICAgICAgcXVlc3Rpb25UeXBlRW51bTogc3RhdGUgPT4gc3RhdGUuZXhhbS5xdWVzdGlvbi50eXBlRW51bSwKICAgICAgbGV2ZWxFbnVtOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmxldmVsRW51bQogICAgfSksCiAgICAuLi5tYXBTdGF0ZSgnZXhhbScsIHsgc3ViamVjdHM6IHN0YXRlID0+IHN0YXRlLnN1YmplY3RzIH0pCiAgfQp9Cg=="},{"version":3,"sources":["gap-filling.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gap-filling.vue","sourceRoot":"src/views/exam/question/edit","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"form\" ref=\"form\" label-width=\"100px\" v-loading=\"formLoading\"  :rules=\"rules\">\n      <el-form-item label=\"年级：\" prop=\"gradeLevel\" required>\n        <el-select v-model=\"form.gradeLevel\" placeholder=\"年级\" @change=\"levelChange\">\n          <el-option v-for=\"item in levelEnum\" :key=\"item.key\" :value=\"item.key\" :label=\"item.value\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"学科：\" prop=\"subjectId\" required>\n        <el-select v-model=\"form.subjectId\" placeholder=\"学科\" >\n          <el-option v-for=\"item in subjectFilter\" :key=\"item.id\" :value=\"item.id\" :label=\"item.name+' ( '+item.levelName+' )'\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"题干：\" prop=\"title\" required>\n        <el-input v-model=\"form.title\"   @focus=\"inputClick(form,'title')\" />\n      </el-form-item>\n      <el-form-item label=\"填空答案：\" required>\n        <el-form-item :label=\"item.prefix\" :key=\"item.prefix\"  v-for=\"item in form.items\"  label-width=\"50px\" class=\"question-item-label\">\n          <el-input v-model=\"item.content\"   @focus=\"inputClick(item,'content')\"  class=\"question-item-content-input\"  style=\"width: 80%\"/>\n          <span class=\"question-item-span\">分数：</span><el-input-number v-model=\"item.score\" :precision=\"1\" :step=\"1\" :max=\"100\"  ></el-input-number>\n        </el-form-item>\n      </el-form-item>\n      <el-form-item label=\"解析：\" prop=\"analyze\" required>\n        <el-input v-model=\"form.analyze\"  @focus=\"inputClick(form,'analyze')\" />\n      </el-form-item>\n      <el-form-item label=\"分数：\" prop=\"score\" required>\n        <el-input-number v-model=\"form.score\" :precision=\"1\" :step=\"1\" :max=\"100\"></el-input-number>\n      </el-form-item>\n      <el-form-item label=\"难度：\" required>\n        <el-rate v-model=\"form.difficult\" class=\"question-item-rate\"></el-rate>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\n        <el-button @click=\"resetForm\">重置</el-button>\n        <el-button type=\"success\" @click=\"showQuestion\">预览</el-button>\n      </el-form-item>\n    </el-form>\n    <el-dialog  :visible.sync=\"richEditor.dialogVisible\"  append-to-body :close-on-click-modal=\"false\" style=\"width: 100%;height: 100%\"   :show-close=\"false\" center>\n      <Ueditor @ready=\"editorReady\"/>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"editorConfirm\">确 定</el-button>\n        <el-button @click=\"richEditor.dialogVisible = false\">取 消</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog :visible.sync=\"questionShow.dialog\" style=\"width: 100%;height: 100%\">\n      <QuestionShow :qType=\"questionShow.qType\" :question=\"questionShow.question\" :qLoading=\"questionShow.loading\"/>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport QuestionShow from '../components/Show'\nimport Ueditor from '@/components/Ueditor'\nimport { mapGetters, mapState, mapActions } from 'vuex'\nimport questionApi from '@/api/question'\n\nexport default {\n  components: {\n    Ueditor, QuestionShow\n  },\n  data () {\n    return {\n      form: {\n        id: null,\n        questionType: 4,\n        gradeLevel: null,\n        subjectId: null,\n        title: '',\n        items: [\n        ],\n        analyze: '',\n        correct: '',\n        score: '',\n        difficult: 0\n      },\n      subjectFilter: null,\n      formLoading: false,\n      rules: {\n        gradeLevel: [\n          { required: true, message: '请选择年级', trigger: 'change' }\n        ],\n        subjectId: [\n          { required: true, message: '请选择学科', trigger: 'change' }\n        ],\n        title: [\n          { required: true, message: '请输入题干', trigger: 'blur' }\n        ],\n        analyze: [\n          { required: true, message: '请输入解析', trigger: 'blur' }\n        ],\n        score: [\n          { required: true, message: '请输入分数', trigger: 'blur' }\n        ]\n      },\n      richEditor: {\n        dialogVisible: false,\n        object: null,\n        parameterName: '',\n        instance: null\n      },\n      questionShow: {\n        qType: 0,\n        dialog: false,\n        question: null,\n        loading: false\n      }\n    }\n  },\n  created () {\n    let id = this.$route.query.id\n    let _this = this\n    this.initSubject(function () {\n      _this.subjectFilter = _this.subjects\n    })\n    if (id && parseInt(id) !== 0) {\n      _this.formLoading = true\n      questionApi.select(id).then(re => {\n        _this.form = re.response\n        _this.formLoading = false\n      })\n    }\n  },\n  methods: {\n    editorReady (instance) {\n      this.richEditor.instance = instance\n      let currentContent = this.richEditor.object[this.richEditor.parameterName]\n      this.richEditor.instance.setContent(currentContent)\n      // 光标定位到Ueditor\n      this.richEditor.instance.focus(true)\n    },\n    inputClick (object, parameterName) {\n      this.richEditor.object = object\n      this.richEditor.parameterName = parameterName\n      this.richEditor.dialogVisible = true\n    },\n    editorConfirm () {\n      let content = this.richEditor.instance.getContent()\n      if (this.richEditor.parameterName === 'title') { // 题干的正确答案重置\n        if (this.questionItemReset(content)) {\n          this.richEditor.object[this.richEditor.parameterName] = content\n          this.richEditor.dialogVisible = false\n        } else {\n\n        }\n      } else {\n        this.richEditor.object[this.richEditor.parameterName] = content\n        this.richEditor.dialogVisible = false\n      }\n    },\n    questionItemReset (content) {\n      let spanRegex = new RegExp('<span class=\"gapfilling-span (.*?)\">(.*?)<\\\\/span>', 'g')\n      let _this = this\n      let newFormItem = []\n      let gapfillingItems = content.match(spanRegex)\n      if (gapfillingItems === null) {\n        this.$message.error('请插入填空')\n        return false\n      }\n      gapfillingItems.forEach(function (span, index) {\n        let pairRegex = /<span class=\"gapfilling-span (.*?)\">(.*?)<\\/span>/\n        pairRegex.test(span)\n        newFormItem.push({ id: null, prefix: RegExp.$2, content: '', score: '0' })\n      })\n\n      newFormItem.forEach(function (item) {\n        _this.form.items.some((oldItem, index) => {\n          if (oldItem.itemUuid === item.itemUuid) {\n            item.content = oldItem.content\n            item.id = oldItem.id\n            item.score = oldItem.score\n            return true\n          }\n        })\n      })\n      _this.form.items = newFormItem\n      return true\n    },\n    submitForm () {\n      let _this = this\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.formLoading = true\n          questionApi.edit(this.form).then(re => {\n            if (re.code === 1) {\n              _this.$message.success(re.message)\n              _this.delCurrentView(_this).then(() => {\n                _this.$router.push('/exam/question/list')\n              })\n            } else {\n              _this.$message.error(re.message)\n              this.formLoading = false\n            }\n          }).catch(e => {\n            this.formLoading = false\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    levelChange () {\n      this.form.subjectId = null\n      this.subjectFilter = this.subjects.filter(data => data.level === this.form.gradeLevel)\n    },\n    showQuestion () {\n      this.questionShow.dialog = true\n      this.questionShow.qType = this.form.questionType\n      this.questionShow.question = this.form\n    },\n    resetForm () {\n      let lastId = this.form.id\n      this.$refs['form'].resetFields()\n      this.form = {\n        id: null,\n        questionType: 4,\n        gradeLevel: null,\n        subjectId: null,\n        title: '',\n        items: [\n        ],\n        analyze: '',\n        correct: '',\n        score: '',\n        difficult: 0\n      }\n      this.form.id = lastId\n    },\n    ...mapActions('exam', { initSubject: 'initSubject' }),\n    ...mapActions('tagsView', { delCurrentView: 'delCurrentView' })\n  },\n  computed: {\n    ...mapGetters('enumItem', ['enumFormat']),\n    ...mapState('enumItem', {\n      questionTypeEnum: state => state.exam.question.typeEnum,\n      levelEnum: state => state.user.levelEnum\n    }),\n    ...mapState('exam', { subjects: state => state.subjects })\n  }\n}\n</script>\n"]}]}