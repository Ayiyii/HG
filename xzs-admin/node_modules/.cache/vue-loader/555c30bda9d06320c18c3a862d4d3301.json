{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/grades/exam/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/grades/exam/list.vue","mtime":1620643054765},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nCmltcG9ydCB1c2VyQXBpIGZyb20gJ0AvYXBpL3VzZXInCmltcG9ydCBleGFtUGFwZXJBcGkgZnJvbSAnQC9hcGkvZXhhbVBhcGVyJwoKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5UGFyYW06IHsKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgcm9sZTogMSwKICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgIHF1ZXJ5UGFyYW0xOiB7CiAgICAgICBleGFtUGFwZXJJZDonJywKICAgICAgICBjcmVhdGVVc2VyOm51bGwsCiAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgbGV0IGlkPXRoaXMuJHJvdXRlLnF1ZXJ5LmlkCiAgIAogICAgbGV0IF90aGlzID0gdGhpcwogICAgaWYgKGlkICYmIHBhcnNlSW50KGlkKSAhPT0gMCkgewogICAgICAgdGhpcy5xdWVyeVBhcmFtMS5leGFtUGFwZXJJZCA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKQogICAgICBfdGhpcy5mb3JtTG9hZGluZyA9IHRydWUKICAgICAgZXhhbVBhcGVyQXBpLmV4YW1QYWdlKHRoaXMucXVlcnlQYXJhbTEpLnRoZW4oZGF0YSA9PiB7CiAgICAgICBjb25zdCByZSA9IGRhdGEucmVzcG9uc2UKICAgICAgIGNvbnNvbGUubG9nKHJlKQogICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlLmxpc3QKICAgICAgICBfdGhpcy50b3RhbCA9IHJlLnRvdGFsCiAgICAgICAgX3RoaXMucXVlcnlQYXJhbS5wYWdlSW5kZXggPSByZS5wYWdlTnVtCiAgICAgICAgdGhpcy5TbmFtZSgpCiAgICAgICAKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgICAKICAgIH1lbHNlewogICAgICAgdGhpcy5zZWFyY2goKQogICAgICAgIHRoaXMuU25hbWUoKQogICAgfQogIAogIAogIH0sCiAgbWV0aG9kczogewogICAgU25hbWUoKXsKICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKQogICAgICAgLy/mn6Xor6LlrabnlJ/lp5PlkI0KICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnRhYmxlRGF0YS5sZW5ndGg7aSsrKXsKICAgICAgICAgIHVzZXJBcGkuc2VsZWN0VXNlcih0aGlzLnRhYmxlRGF0YVtpXS51c2VySWQpLnRoZW4oZGF0YT0+ewogICAgICAgICAgLy/op6PlhrPmlbDmja7mm7TmlrDop4blm77kuI3mm7TmlrAKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0ubmFtZT1kYXRhLnJlc3BvbnNlLnJlYWxOYW1lCiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhYmxlRGF0YSwgaSwgdGhpcy50YWJsZURhdGFbaV0pCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIHRoaXMudGFibGVEYXRhW2ldLm5hbWUpOwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgIHRoaXMudGFibGVEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnRhYmxlRGF0YSkpOwogIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKQogICAgfSwKICAgIHNlYXJjaCAoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIHVzZXJBcGkuZ2V0VXNlclBhZ2VMaXN0KHRoaXMucXVlcnlQYXJhbSkudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zdCByZSA9IGRhdGEucmVzcG9uc2UKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlLmxpc3QKICAgICAgICB0aGlzLnRvdGFsID0gcmUudG90YWwKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZUluZGV4ID0gcmUucGFnZU51bQogICAgICAgICBmb3IobGV0IGk9MDtpPHJlLmxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICB1c2VyQXBpLnNlbGVjdFVzZXIocmUubGlzdFtpXS51c2VySWQpLnRoZW4oZGF0YT0+ewogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0ubmFtZT1kYXRhLnJlc3BvbnNlLnJlYWxOYW1lCgogICAgICAgICAgfSkKICAgICAgICAgfQogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQoKICAgICAgfSkKICAgIH0sCiAgICBjaGFuZ2VTdGF0dXMgKHJvdykgewogICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgIHVzZXJBcGkuY2hhbmdlU3RhdHVzKHJvdy5pZCkudGhlbihyZSA9PiB7CiAgICAgICAgaWYgKHJlLmNvZGUgPT09IDEpIHsKICAgICAgICAgIHJvdy5zdGF0dXMgPSByZS5yZXNwb25zZQogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZS5tZXNzYWdlKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZS5tZXNzYWdlKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBkZWxldGVVc2VyIChyb3cpIHsKICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICB1c2VyQXBpLmRlbGV0ZVVzZXIocm93LmlkKS50aGVuKHJlID0+IHsKICAgICAgICBpZiAocmUuY29kZSA9PT0gMSkgewogICAgICAgICAgX3RoaXMuc2VhcmNoKCkKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmUubWVzc2FnZSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmUubWVzc2FnZSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgc3VibWl0Rm9ybSAoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlSW5kZXggPSAxCiAgICAgIHRoaXMuc2VhcmNoKCkKICAgIH0sCiAgICBsZXZlbEZvcm1hdHRlciAgKHJvdywgY29sdW1uLCBjZWxsVmFsdWUsIGluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLmVudW1Gb3JtYXQodGhpcy5sZXZlbEVudW0sIGNlbGxWYWx1ZSkKICAgIH0sCiAgICBzZXhGb3JtYXR0ZXIgIChyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5lbnVtRm9ybWF0KHRoaXMuc2V4RW51bSwgY2VsbFZhbHVlKQogICAgfSwKICAgIHN0YXR1c0Zvcm1hdHRlciAoc3RhdHVzKSB7CiAgICAgIHJldHVybiB0aGlzLmVudW1Gb3JtYXQodGhpcy5zdGF0dXNFbnVtLCBzdGF0dXMpCiAgICB9LAogICAgc3RhdHVzVGFnRm9ybWF0dGVyIChzdGF0dXMpIHsKICAgICAgcmV0dXJuIHRoaXMuZW51bUZvcm1hdCh0aGlzLnN0YXR1c1RhZywgc3RhdHVzKQogICAgfSwKICAgIHN0YXR1c0J0bkZvcm1hdHRlciAoc3RhdHVzKSB7CiAgICAgIHJldHVybiB0aGlzLmVudW1Gb3JtYXQodGhpcy5zdGF0dXNCdG4sIHN0YXR1cykKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCdlbnVtSXRlbScsIFsKICAgICAgJ2VudW1Gb3JtYXQnCiAgICBdKSwKICAgIC4uLm1hcFN0YXRlKCdlbnVtSXRlbScsIHsKICAgICAgc2V4RW51bTogc3RhdGUgPT4gc3RhdGUudXNlci5zZXhFbnVtLAogICAgICBzdGF0dXNFbnVtOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLnN0YXR1c0VudW0sCiAgICAgIHN0YXR1c1RhZzogc3RhdGUgPT4gc3RhdGUudXNlci5zdGF0dXNUYWcsCiAgICAgIHN0YXR1c0J0bjogc3RhdGUgPT4gc3RhdGUudXNlci5zdGF0dXNCdG4sCiAgICAgIGxldmVsRW51bTogc3RhdGUgPT4gc3RhdGUudXNlci5sZXZlbEVudW0KICAgIH0pCiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/grades/exam","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParam\" ref=\"queryForm\" :inline=\"true\">\n      <el-form-item label=\"用户名：\">\n        <el-input v-model=\"queryParam.userName\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">查询</el-button>\n        \n      </el-form-item>\n    </el-form>\n\n    <el-table v-loading=\"listLoading\" :data=\"tableData\" border fit highlight-current-row style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"Id\" />\n      <el-table-column prop=\"name\" label=\"学生姓名\" />\n      <el-table-column prop=\"paperName\" label=\"试卷名称\"  />\n      <el-table-column width=\"270px\" label=\"操作\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          \n          <router-link :to=\"{path:'/studentgrade', query:{id:row.id,name:row.name}}\" class=\"link-left\">\n            <el-button size=\"mini\" >查看成绩</el-button>\n          </router-link>\n          \n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryParam.pageIndex\" :limit.sync=\"queryParam.pageSize\"\n                @pagination=\"search\"/>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nimport Pagination from '@/components/Pagination'\nimport userApi from '@/api/user'\nimport examPaperApi from '@/api/examPaper'\n\n\nexport default {\n  components: { Pagination },\n  data () {\n    return {\n      queryParam: {\n        userName: '',\n        role: 1,\n        pageIndex: 1,\n        pageSize: 10\n      },\n      listLoading: true,\n      tableData: [],\n      total: 0,\n       queryParam1: {\n       examPaperId:'',\n        createUser:null,\n        subjectId: null,\n        pageIndex: 1,\n        pageSize: 10\n      },\n    }\n  },\n  created () {\n    let id=this.$route.query.id\n   \n    let _this = this\n    if (id && parseInt(id) !== 0) {\n       this.queryParam1.examPaperId = parseInt(this.$route.query.id)\n      _this.formLoading = true\n      examPaperApi.examPage(this.queryParam1).then(data => {\n       const re = data.response\n       console.log(re)\n        _this.tableData = re.list\n        _this.total = re.total\n        _this.queryParam.pageIndex = re.pageNum\n        this.Sname()\n       \n        _this.listLoading = false\n        _this.formLoading = false\n      })\n      \n    }else{\n       this.search()\n        this.Sname()\n    }\n  \n  \n  },\n  methods: {\n    Sname(){\n       console.log(this.tableData)\n       //查询学生姓名\n      for(let i=0;i<this.tableData.length;i++){\n          userApi.selectUser(this.tableData[i].userId).then(data=>{\n          //解决数据更新视图不更新\n            this.tableData[i].name=data.response.realName\n            this.$set(this.tableData, i, this.tableData[i])\n              console.log( this.tableData[i].name);\n          })\n        }\n         this.tableData = JSON.parse(JSON.stringify(this.tableData));\n  console.log(this.tableData)\n    },\n    search () {\n      this.listLoading = true\n      userApi.getUserPageList(this.queryParam).then(data => {\n        const re = data.response\n        this.tableData = re.list\n        this.total = re.total\n        this.queryParam.pageIndex = re.pageNum\n         for(let i=0;i<re.list.length;i++){\n          userApi.selectUser(re.list[i].userId).then(data=>{\n            console.log(data);\n            this.tableData[i].name=data.response.realName\n\n          })\n         }\n        this.listLoading = false\n\n      })\n    },\n    changeStatus (row) {\n      let _this = this\n      userApi.changeStatus(row.id).then(re => {\n        if (re.code === 1) {\n          row.status = re.response\n          _this.$message.success(re.message)\n        } else {\n          _this.$message.error(re.message)\n        }\n      })\n    },\n    deleteUser (row) {\n      let _this = this\n      userApi.deleteUser(row.id).then(re => {\n        if (re.code === 1) {\n          _this.search()\n          _this.$message.success(re.message)\n        } else {\n          _this.$message.error(re.message)\n        }\n      })\n    },\n    submitForm () {\n      this.queryParam.pageIndex = 1\n      this.search()\n    },\n    levelFormatter  (row, column, cellValue, index) {\n      return this.enumFormat(this.levelEnum, cellValue)\n    },\n    sexFormatter  (row, column, cellValue, index) {\n      return this.enumFormat(this.sexEnum, cellValue)\n    },\n    statusFormatter (status) {\n      return this.enumFormat(this.statusEnum, status)\n    },\n    statusTagFormatter (status) {\n      return this.enumFormat(this.statusTag, status)\n    },\n    statusBtnFormatter (status) {\n      return this.enumFormat(this.statusBtn, status)\n    }\n  },\n  computed: {\n    ...mapGetters('enumItem', [\n      'enumFormat'\n    ]),\n    ...mapState('enumItem', {\n      sexEnum: state => state.user.sexEnum,\n      statusEnum: state => state.user.statusEnum,\n      statusTag: state => state.user.statusTag,\n      statusBtn: state => state.user.statusBtn,\n      levelEnum: state => state.user.levelEnum\n    })\n  }\n}\n</script>\n"]}]}