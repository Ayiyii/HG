{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/correct/correct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/correct/correct.vue","mtime":1617073111969},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcKaW1wb3J0IHsgZm9ybWF0U2Vjb25kcyB9IGZyb20gJ0AvdXRpbHMnCmltcG9ydCBRdWVzdGlvbkFuc3dlclNob3cgZnJvbSAnLi4vY29ycmVjdC9jb21wb25lbnRzL1F1ZXN0aW9uQW5zd2VyU2hvdycKaW1wb3J0IGV4YW1QYXBlckFuc3dlckFwaSBmcm9tICdAL2FwaS9leGFtUGFwZXJBbnN3ZXJfJwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBRdWVzdGlvbkFuc3dlclNob3cgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICBmb3JtTG9hZGluZzogZmFsc2UsCiAgICAgIGFuc3dlcjogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHNjb3JlOiAwLAogICAgICAgIGRvVGltZTogMCwKICAgICAgICBhbnN3ZXJJdGVtczogW10sCiAgICAgICAgZG9SaWdodDogZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBsZXQgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgbGV0IF90aGlzID0gdGhpcwogICAgaWYgKGlkICYmIHBhcnNlSW50KGlkKSAhPT0gMCkgewogICAgICBfdGhpcy5mb3JtTG9hZGluZyA9IHRydWUKICAgICAgZXhhbVBhcGVyQW5zd2VyQXBpLnJlYWQoaWQpLnRoZW4ocmUgPT4gewogICAgICAgIF90aGlzLmZvcm0gPSByZS5yZXNwb25zZS5wYXBlcgogICAgICAgIF90aGlzLmFuc3dlciA9IHJlLnJlc3BvbnNlLmFuc3dlcgogICAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm0gKCkgewogICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gdHJ1ZQogICAgICBleGFtUGFwZXJBbnN3ZXJBcGkuZWRpdCh0aGlzLmFuc3dlcikudGhlbihyZSA9PiB7CiAgICAgICAgaWYgKHJlLmNvZGUgPT09IDEpIHsKICAgICAgICAgIF90aGlzLiRhbGVydCgn6K+V5Y235b6X5YiG77yaJyArIHJlLnJlc3BvbnNlICsgJ+WIhicsICfogIPor5Xnu5PmnpwnLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6L+U5Zue6ICD6K+V6K6w5b2VJywKICAgICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvcmVjb3JkL2luZGV4JykKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmUubWVzc2FnZSkKICAgICAgICB9CiAgICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSBmYWxzZQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBfdGhpcy5mb3JtTG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgc2NvcmVTZWxlY3QgKHNjb3JlKSB7CiAgICAgIGxldCBhcnJheSA9IFtdCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhcnNlSW50KHNjb3JlKTsgaSsrKSB7CiAgICAgICAgYXJyYXkucHVzaChpLnRvU3RyaW5nKCkpCiAgICAgIH0KICAgICAgaWYgKHNjb3JlLmluZGV4T2YoJy4nKSAhPT0gLTEpIHsKICAgICAgICBhcnJheS5wdXNoKHNjb3JlKQogICAgICB9CiAgICAgIHJldHVybiBhcnJheQogICAgfSwKICAgIGZvcm1hdFNlY29uZHMgKHRoZVRpbWUpIHsKICAgICAgcmV0dXJuIGZvcm1hdFNlY29uZHModGhlVGltZSkKICAgIH0sCiAgICBxdWVzdGlvbkRvUmlnaHRUYWcgKHN0YXR1cykgewogICAgICByZXR1cm4gdGhpcy5lbnVtRm9ybWF0KHRoaXMuZG9SaWdodFRhZywgc3RhdHVzKQogICAgfSwKICAgIGdvQW5jaG9yIChzZWxlY3RvcikgewogICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnaW5zdGFudCcsIGJsb2NrOiAnY2VudGVyJywgaW5saW5lOiAnbmVhcmVzdCcgfSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCdlbnVtSXRlbScsIFsnZW51bUZvcm1hdCddKSwKICAgIC4uLm1hcFN0YXRlKCdlbnVtSXRlbScsIHsKICAgICAgZG9SaWdodFRhZzogc3RhdGUgPT4gc3RhdGUuZXhhbS5xdWVzdGlvbi5hbnN3ZXIuZG9SaWdodFRhZwogICAgfSkKICB9Cn0K"},{"version":3,"sources":["correct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"correct.vue","sourceRoot":"src/views/correct","sourcesContent":["<template>\n<div>\n  <el-row  class=\"do-exam-title\" style=\"background-color: #F5F5DC\">\n    <el-col :span=\"24\">\n        <span :key=\"item.itemOrder\"  v-for=\"item in answer.answerItems\">\n             <el-tag :type=\"questionDoRightTag(item.doRight)\" class=\"do-exam-title-tag\" @click=\"goAnchor('#question-'+item.itemOrder)\">{{item.itemOrder}}</el-tag>\n        </span>\n    </el-col>\n  </el-row>\n  <el-row  class=\"do-exam-title-hidden\">\n    <el-col :span=\"24\">\n        <span :key=\"item.itemOrder\"  v-for=\"item in answer.answerItems\">\n             <el-tag  class=\"do-exam-title-tag\" >{{item.itemOrder}}</el-tag>\n        </span>\n    </el-col>\n  </el-row>\n  <el-container  class=\"app-item-contain\">\n    <el-header class=\"align-center\">\n      <h1>{{form.name}}</h1>\n      <div>\n        <span class=\"question-title-padding\">试卷得分：{{answer.score}}</span>\n        <span class=\"question-title-padding\">试卷耗时：{{formatSeconds(answer.doTime)}}</span>\n      </div>\n    </el-header>\n    <el-main>\n      <el-form :model=\"form\" ref=\"form\" v-loading=\"formLoading\" label-width=\"100px\">\n        <el-row :key=\"index\"  v-for=\"(titleItem,index) in form.titleItems\">\n          <h3>{{titleItem.name}}</h3>\n          <el-card class=\"exampaper-item-box\" v-if=\"titleItem.questionItems.length!==0\">\n            <el-form-item :key=\"questionItem.itemOrder\" :label=\"questionItem.itemOrder+'.'\"\n                          v-for=\"questionItem in titleItem.questionItems\"\n                          class=\"exam-question-item\"  label-width=\"50px\" :id=\"'question-'+ questionItem.itemOrder\">\n              <el-row>\n                <QuestionAnswerShow :qType=\"questionItem.questionType\" :question=\"questionItem\"  :answer=\"answer.answerItems[questionItem.itemOrder-1]\"/>\n              </el-row>\n              <el-row v-if=\"answer.answerItems[questionItem.itemOrder-1].doRight === null\">\n                <label style=\"color: #e6a23c\">批改：</label>\n                <el-radio-group v-model=\"answer.answerItems[questionItem.itemOrder-1].score\">\n                  <el-radio  v-for=\"item in scoreSelect(questionItem.score)\"  :key=\"item\"  :label=\"item\" >\n                    {{item}}\n                  </el-radio>\n                </el-radio-group>\n              </el-row>\n            </el-form-item>\n          </el-card>\n        </el-row>\n        <el-row class=\"do-align-center\">\n          <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\n          <el-button>取消</el-button>\n        </el-row>\n      </el-form>\n    </el-main>\n  </el-container>\n</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { formatSeconds } from '@/utils'\nimport QuestionAnswerShow from '../correct/components/QuestionAnswerShow'\nimport examPaperAnswerApi from '@/api/examPaperAnswer_'\nexport default {\n  components: { QuestionAnswerShow },\n  data () {\n    return {\n      form: {},\n      formLoading: false,\n      answer: {\n        id: null,\n        score: 0,\n        doTime: 0,\n        answerItems: [],\n        doRight: false\n      }\n    }\n  },\n  created () {\n    let id = this.$route.query.id\n    let _this = this\n    if (id && parseInt(id) !== 0) {\n      _this.formLoading = true\n      examPaperAnswerApi.read(id).then(re => {\n        _this.form = re.response.paper\n        _this.answer = re.response.answer\n        _this.formLoading = false\n      })\n    }\n  },\n  methods: {\n    submitForm () {\n      let _this = this\n      _this.formLoading = true\n      examPaperAnswerApi.edit(this.answer).then(re => {\n        if (re.code === 1) {\n          _this.$alert('试卷得分：' + re.response + '分', '考试结果', {\n            confirmButtonText: '返回考试记录',\n            callback: action => {\n              _this.$router.push('/record/index')\n            }\n          })\n        } else {\n          _this.$message.error(re.message)\n        }\n        _this.formLoading = false\n      }).catch(e => {\n        _this.formLoading = false\n      })\n    },\n    scoreSelect (score) {\n      let array = []\n      for (let i = 0; i <= parseInt(score); i++) {\n        array.push(i.toString())\n      }\n      if (score.indexOf('.') !== -1) {\n        array.push(score)\n      }\n      return array\n    },\n    formatSeconds (theTime) {\n      return formatSeconds(theTime)\n    },\n    questionDoRightTag (status) {\n      return this.enumFormat(this.doRightTag, status)\n    },\n    goAnchor (selector) {\n      this.$el.querySelector(selector).scrollIntoView({ behavior: 'instant', block: 'center', inline: 'nearest' })\n    }\n  },\n  computed: {\n    ...mapGetters('enumItem', ['enumFormat']),\n    ...mapState('enumItem', {\n      doRightTag: state => state.exam.question.answer.doRightTag\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .align-center {\n    text-align: center\n  }\n\n  .exam-question-item{\n    padding: 10px;\n    .el-form-item__label{\n      font-size: 15px !important;\n    }\n  }\n\n  .question-title-padding{\n    padding-left: 25px;\n    padding-right: 25px;\n  }\n</style>\n"]}]}