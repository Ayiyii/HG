{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/thread-loader/dist/cjs.js!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/paper/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/exam/paper/edit.vue","mtime":1620634283726},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jeW50aGlhY2hlbi9wcm9qZWN0L2dyYWR1YXRpb25fZGVzaWduL3h6cy94enMtbXlzcWwvc291cmNlL3Z1ZS94enMtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbic7CmltcG9ydCBRdWVzdGlvblNob3cgZnJvbSAnLi4vcXVlc3Rpb24vY29tcG9uZW50cy9TaG93JzsKaW1wb3J0IGV4YW1QYXBlckFwaSBmcm9tICdAL2FwaS9leGFtUGFwZXInOwppbXBvcnQgcXVlc3Rpb25BcGkgZnJvbSAnQC9hcGkvcXVlc3Rpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbiwKICAgIFF1ZXN0aW9uU2hvdzogUXVlc3Rpb25TaG93CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGxldmVsOiBudWxsLAogICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgbGltaXREYXRlVGltZTogW10sCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgc2NvcmVzOiAwLAogICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgIHRpdGxlSXRlbXM6IFtdCiAgICAgIH0sCiAgICAgIHN1YmplY3RGaWx0ZXI6IG51bGwsCiAgICAgIGZvcm1Mb2FkaW5nOiBmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICBsZXZlbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeW5tOe6pycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHN1YmplY3RJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWtpuenkScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHBhcGVyVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeivleWNt+exu+WeiycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXor5XljbflkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgc3VnZ2VzdFRpbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlu7rorq7ml7bplb8nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgcXVlc3Rpb25QYWdlOiB7CiAgICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHF1ZXJ5UGFyYW06IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25UeXBlOiBudWxsLAogICAgICAgICAgc3ViamVjdElkOiAnJywKICAgICAgICAgIGNoYXB0ZXJJZDogJycsCiAgICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgICBwYWdlU2l6ZTogNQogICAgICAgIH0sCiAgICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgICB0b3RhbDogMAogICAgICB9LAogICAgICBhdXRvUGFnZTogewogICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGVQYWdlOiB7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTogbnVsbCwKICAgICAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICBjaGFwdGVySWQ6ICcnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczogW3sKICAgICAgICAgICAgbnVtOiBudWxsLAogICAgICAgICAgICBsZXZlbDogbnVsbCwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6IG51bGwsCiAgICAgICAgICAgIGNoYXB0ZXJJZDogbnVsbAogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRlbXBsYXRlMTogewogICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGVQYWdlOiB7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTogNSwKICAgICAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICBjaGFwdGVySWQ6ICcnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczogW3sKICAgICAgICAgICAgbnVtOiAxLAogICAgICAgICAgICBsZXZlbDogMSwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6IDEsCiAgICAgICAgICAgIHNjb3JlOiA1CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG51bTogMSwKICAgICAgICAgICAgbGV2ZWw6IDEsCiAgICAgICAgICAgIHN1YmplY3RJZDogMSwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOiAyLAogICAgICAgICAgICBzY29yZTogNgogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRlbXBsYXRlMjogewogICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGVQYWdlOiB7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTogNSwKICAgICAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICBjaGFwdGVySWQ6ICcnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczogW3sKICAgICAgICAgICAgbnVtOiAxLAogICAgICAgICAgICBsZXZlbDogMSwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6IDEsCiAgICAgICAgICAgIHNjb3JlOiA1CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG51bTogMSwKICAgICAgICAgICAgbGV2ZWw6IDEsCiAgICAgICAgICAgIHN1YmplY3RJZDogMSwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOiAyLAogICAgICAgICAgICBzY29yZTogNgogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRlbXBsYXRlMzogewogICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGVQYWdlOiB7CiAgICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICAgIG51bTogNSwKICAgICAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICBjaGFwdGVySWQ6ICcnLAogICAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgICB9XSwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICAgIGxpbWl0RGF0ZVRpbWU6IG51bGwsCiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgICAgcXVlc3Rpb25TZWxlY3RJdGVtczogW3sKICAgICAgICAgICAgbnVtOiAxLAogICAgICAgICAgICBsZXZlbDogMSwKICAgICAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6IDEsCiAgICAgICAgICAgIHNjb3JlOiA1CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG51bTogMSwKICAgICAgICAgICAgbGV2ZWw6IDEsCiAgICAgICAgICAgIHN1YmplY3RJZDogMSwKICAgICAgICAgICAgcXVlc3Rpb25UeXBlOiAyLAogICAgICAgICAgICBzY29yZTogNgogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHF1ZXJ5Q2hhOiB7CiAgICAgICAgcGFnZUluZGV4OiAxLAogICAgICAgIHBhZ2VTaXplOiAxMDAsCiAgICAgICAgc3ViamVjdElkOiAnJywKICAgICAgICBncmFkZUxldmVsOiAnJwogICAgICB9LAogICAgICBjaGFwdGVyczogJycsCiAgICAgIGN1cnJlbnRUaXRsZUl0ZW06IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vICB0aGlzLmF1dG9QYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMucXVlc3Rpb25UeXBlPXRoaXMucXVlc3Rpb25QYWdlLnF1ZXJ5UGFyYW0ucXVlc3Rpb25UeXBlCgoKICAgIHRoaXMuaW5pdFN1YmplY3QoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zdWJqZWN0RmlsdGVyID0gX3RoaXMuc3ViamVjdHM7CiAgICB9KTsKCiAgICBpZiAoaWQgJiYgcGFyc2VJbnQoaWQpICE9PSAwKSB7CiAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gdHJ1ZTsKICAgICAgZXhhbVBhcGVyQXBpLnNlbGVjdChpZCkudGhlbihmdW5jdGlvbiAocmUpIHsKICAgICAgICBfdGhpcy5mb3JtID0gcmUucmVzcG9uc2U7CiAgICAgICAgX3RoaXMuZm9ybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CgogICAgdGhpcy5mb3JtOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8v5a+56LGh5Y+M5ZCR5pWw5o2u57uR5a6aCiAgICAnZm9ybS5zdWJqZWN0SWQnOiBmdW5jdGlvbiBmb3JtU3ViamVjdElkKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGBuZXc6JHtuZXdWYWx9LCBvbGQ6JHtvbGRWYWx9YCk7CiAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICB0aGlzLnF1ZXJ5Q2hhLnN1YmplY3RJZCA9IG5ld1ZhbDsKICAgICAgICB0aGlzLmdldENoYXB0ZXIoKTsKICAgICAgfQogICAgfSwKCiAgICAvKiAgJ2Zvcm0udGl0bGVJdGVtcycobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAgY29uc29sZS5sb2cobmV3VmFsKTsKICAgICAgICAgIGlmKG5ld1ZhbCl7CiAgICAgICAgICAgIC8v6K6h566X5oC75YiGCiAgICAgICAgICAgIGxldCBzY29yZXM9MAogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgICAgICAgIGxldCBzY29yZT0gTnVtYmVyKHRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnNjb3JlKTsKICAgICAgICAgICAgICBsZXQgbGVuPXRoaXMuZm9ybS50aXRsZUl0ZW1zW2ldLnF1ZXN0aW9uSXRlbXMubGVuZ3RoOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKmxlbik7CiAgICAgICAgICAgICAgIGxldCBzdW09c2NvcmUqbGVuOwogICAgICAgICAgICAgIHNjb3Jlcz1zY29yZStzdW07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coc2NvcmVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZvcm0uc2NvcmVzPXNjb3JlczsKICAgICAgICAgICAgCiAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgfQogICAgICAgfSwgKi8KICAgIHRpdGxlSXRlbXM6IGZ1bmN0aW9uIHRpdGxlSXRlbXMobmV3VmFsLCBvbGRWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZyhuZXdWYWwpOwoKICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgIC8v6K6h566X5oC75YiGCiAgICAgICAgdmFyIHNjb3JlcyA9IDA7CgogICAgICAgIGlmICh0aGlzLmZvcm0udGl0bGVJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtLnRpdGxlSXRlbXNbMF0ucXVlc3Rpb25JdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mb3JtLnRpdGxlSXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB2YXIgc2NvcmUgPSBOdW1iZXIodGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0uc2NvcmUpOwogICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmZvcm0udGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zLmxlbmd0aDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsZW4pOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKTsKICAgICAgICAgICAgICB2YXIgc3VtID0gc2NvcmUgKiBsZW47CiAgICAgICAgICAgICAgc2NvcmVzID0gc2NvcmVzICsgc3VtOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3Jlcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuZm9ybS5zY29yZXMgPSBzY29yZXM7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgZ2V0Q2hhcHRlcjogZnVuY3Rpb24gZ2V0Q2hhcHRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBxdWVzdGlvbkFwaS5jaGFwdGVyTGlzdCh0aGlzLnF1ZXJ5Q2hhKS50aGVuKGZ1bmN0aW9uIChyZSkgewogICAgICAgIHZhciBsaXN0ID0gcmUucmVzcG9uc2UubGlzdDsKICAgICAgICB2YXIgbGlzdDEgPSBbXTsgLy9sZXQgY2hhSWQ9W107CiAgICAgICAgLy/ljrvpmaTnqbrpobkKCiAgICAgICAgX3RoaXMyLmNoYUlkID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgX3RoaXMyLmNoYUlkLnB1c2gobGlzdFtpXS5pZCk7CgogICAgICAgICAgaWYgKGxpc3RbaV0ubmFtZSkgewogICAgICAgICAgICBsaXN0MS5wdXNoKGxpc3RbaV0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLmNoYXB0ZXJzID0gbGlzdDE7IC8vIHRoaXMuZm9ybS5jaGFwdGVySWQ9U3RyaW5nKHRoaXMuY2hhcHRlclNob3cuY2hhcHRlcnNbMF0uaWQpCiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNoYXB0ZXJzKQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczMuZm9ybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgZXhhbVBhcGVyQXBpLmVkaXQoX3RoaXMzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlKSB7CiAgICAgICAgICAgIGlmIChyZS5jb2RlID09PSAxKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZS5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgX3RoaXMuZGVsQ3VycmVudFZpZXcoX3RoaXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvZXhhbS9wYXBlci9saXN0Jyk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmUubWVzc2FnZSk7CgogICAgICAgICAgICAgIF90aGlzMy5mb3JtTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczMuZm9ybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRUaXRsZTogZnVuY3Rpb24gYWRkVGl0bGUoKSB7CiAgICAgIHRoaXMuZm9ybS50aXRsZUl0ZW1zLnB1c2goewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNjb3JlOiAnJywKICAgICAgICBxdWVzdGlvbkl0ZW1zOiBbXQogICAgICB9KTsKICAgIH0sCiAgICAvL+a3u+WKoOmimOWeiwogICAgYWRkVHlwZTogZnVuY3Rpb24gYWRkVHlwZSgpIHsKICAgICAgdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLnB1c2goewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHR5cGVJdGVtczogW10sCiAgICAgICAgbnVtOiBudWxsLAogICAgICAgIGxldmVsOiBudWxsLAogICAgICAgIGNoYXB0ZXJJZDogbnVsbAogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zKTsKICAgIH0sCiAgICBhZGRRdWVzdGlvbjogZnVuY3Rpb24gYWRkUXVlc3Rpb24odGl0bGVJdGVtKSB7CiAgICAgIHRoaXMuY3VycmVudFRpdGxlSXRlbSA9IHRpdGxlSXRlbTsKICAgICAgdGhpcy5xdWVzdGlvblBhZ2Uuc2hvd0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAogICAgYWRkQXV0bzogZnVuY3Rpb24gYWRkQXV0byh0aXRsZUl0ZW0pIHsKICAgICAgdGhpcy5jdXJyZW50VGl0bGVJdGVtID0gdGl0bGVJdGVtOwogICAgICB0aGlzLmF1dG9QYWdlLnNob3dEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLnNlYXJjaCgpOwogICAgfSwKICAgIHJlbW92ZVRpdGxlSXRlbTogZnVuY3Rpb24gcmVtb3ZlVGl0bGVJdGVtKHRpdGxlSXRlbSkgewogICAgICB0aGlzLmZvcm0udGl0bGVJdGVtcy5yZW1vdmUodGl0bGVJdGVtKTsKICAgIH0sCiAgICByZW1vdmVRdWVzdGlvbjogZnVuY3Rpb24gcmVtb3ZlUXVlc3Rpb24odGl0bGVJdGVtLCBxdWVzdGlvbkl0ZW0pIHsKICAgICAgdGl0bGVJdGVtLnF1ZXN0aW9uSXRlbXMucmVtb3ZlKHF1ZXN0aW9uSXRlbSk7CiAgICB9LAogICAgcXVlcnlGb3JtOiBmdW5jdGlvbiBxdWVyeUZvcm0oKSB7CiAgICAgIHRoaXMucXVlc3Rpb25QYWdlLnF1ZXJ5UGFyYW0ucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBjb25maXJtUXVlc3Rpb25TZWxlY3Q6IGZ1bmN0aW9uIGNvbmZpcm1RdWVzdGlvblNlbGVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucXVlc3Rpb25QYWdlLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKHEpIHsKICAgICAgICBxdWVzdGlvbkFwaS5zZWxlY3QocS5pZCkudGhlbihmdW5jdGlvbiAocmUpIHsKICAgICAgICAgIF90aGlzLmN1cnJlbnRUaXRsZUl0ZW0ucXVlc3Rpb25JdGVtcy5wdXNoKHJlLnJlc3BvbnNlKTsgLy8gY29uc29sZS5sb2coX3RoaXMuY3VycmVudFRpdGxlSXRlbSkKCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5zaG93RGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgLy8gIOiHquWKqOe7hOWNtwogICAgY29uZmlybVR5cGU6IGZ1bmN0aW9uIGNvbmZpcm1UeXBlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2Uuc3ViamVjdElkID0gdGhpcy5mb3JtLnN1YmplY3RJZDsKICAgICAgdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5zdWdnZXN0VGltZSA9IHRoaXMuZm9ybS5zdWdnZXN0VGltZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLm5hbWUgPSAnJzsKICAgICAgICB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0uc3ViamVjdElkID0gdGhpcy5mb3JtLnN1YmplY3RJZDsgLy8gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLnF1ZXN0aW9uVHlwZT0gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLnF1ZXN0aW9uVHlwZTsKICAgICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKQoKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBleGFtUGFwZXJBcGkuYXV0byh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIHJlID0gZGF0YS5yZXNwb25zZTsgLy8gdGhpcy5hdXRvZm9ybS50aXRsZUl0ZW1zLnF1ZXN0aW9uSXRlbXM9W10KCiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlLnRpdGxlSXRlbXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB2YXIgdG1wID0gcmUudGl0bGVJdGVtc1tfaV0ucXVlc3Rpb25JdGVtczsKICAgICAgICAgIHZhciBfc2NvcmUgPSByZS50aXRsZUl0ZW1zW19pXS5zY29yZTsKCiAgICAgICAgICBfdGhpczQuZm9ybS50aXRsZUl0ZW1zLnB1c2goewogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgcXVlc3Rpb25JdGVtczogdG1wLAogICAgICAgICAgICBzY29yZTogX3Njb3JlCiAgICAgICAgICB9KTsgLy8gIGZvcihsZXQgaj0wO2o8cmUudGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zLmxlbmd0aDtqKyspewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmUudGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zW2pdKQogICAgICAgICAgLy8gdGhpcy5jdXJyZW50VGl0bGVJdGVtLnF1ZXN0aW9uSXRlbXMucHVzaCh0bXApCiAgICAgICAgICAvLyAgICAgICB0aGlzLmZvcm0udGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zW2pdLnB1c2godG1wKQoKICAgICAgICAgIC8qICAgdGhpcy4kc2V0KHRoaXMuYXV0b2Zvcm0udGl0bGVJdGVtcyxqLHsKICAgICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgcXVlc3Rpb25JdGVtczogdG1wLAogICAgICAgICAgICB9KSovCiAgICAgICAgICAvLyB9CgogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coX3RoaXM0LmZvcm0udGl0bGVJdGVtcyk7CiAgICAgIH0pOyAvL3RoaXMuJHJlZnNbJ2F1dG9QYWdlJ10ucmVzZXRGaWVsZHMoKSAgLy8g6L+Z6YeM5Y+v5Lul5o2i5YGa56e76Zmk5qC35byP55qE5pa55rOVY2xlYXJWYWxpZGF0ZQogICAgICAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlID0gY29weVByb3BzKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpICAKCiAgICAgIHRoaXMuYXV0b1BhZ2Uuc2hvd0RpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5hdXRvUGFnZS50eXBlUGFnZSA9IHsKICAgICAgICB0eXBlSXRlbXM6IFt7CiAgICAgICAgICBudW06IG51bGwsCiAgICAgICAgICBsZXZlbDogbnVsbCwKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgdHlwZUl0ZW1zOiBbXQogICAgICAgIH1dLAogICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICBwYXBlclR5cGU6IDEsCiAgICAgICAgbGltaXREYXRlVGltZTogbnVsbCwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICBxdWVzdGlvblNlbGVjdEl0ZW1zOiBbewogICAgICAgICAgbnVtOiBudWxsLAogICAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgICBzdWJqZWN0SWQ6IG51bGwsCiAgICAgICAgICBxdWVzdGlvblR5cGU6IG51bGwKICAgICAgICB9XQogICAgICB9OwogICAgfSwKICAgIGNsb3NlRGlhbG9nMTogZnVuY3Rpb24gY2xvc2VEaWFsb2cxKCkge30sCiAgICAvL+iuoeeul+WIhuaVsAoKICAgIC8qICBjb21wdXRlU2NvcmUoKXsKICAgICAgICBsZXQgc2NvcmVzPTAKICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aDtpKyspewogICAgICAgICAgICAgbGV0IHNjb3JlPSBOdW1iZXIodGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0uc2NvcmUpOwogICAgICAgICAgICAgbGV0IGxlbj10aGlzLmZvcm0udGl0bGVJdGVtc1tpXS5xdWVzdGlvbkl0ZW1zLmxlbmd0aDsKICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKmxlbik7CiAgICAgICAgICAgICAgbGV0IHN1bT1zY29yZSpsZW47CiAgICAgICAgICAgICBzY29yZXM9c2NvcmUrc3VtOwogICAgICAgICAgICAgY29uc29sZS5sb2coc2NvcmVzKTsKICAgICAgICAgICB9CiAgICAgICAgICAgdGhpcy5mb3JtLnNjb3Jlcz1zY29yZXM7CiAgICAgIH0sKi8KICAgIC8v5qih5p2/CiAgICB0Q2xpY2sxOiBmdW5jdGlvbiB0Q2xpY2sxKCkgewogICAgICB0aGlzLnRlbXBsYXRlMS5zaG93RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICB0Q2xpY2syOiBmdW5jdGlvbiB0Q2xpY2syKCkgewogICAgICB0aGlzLnRlbXBsYXRlMi5zaG93RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICB0Q2xpY2szOiBmdW5jdGlvbiB0Q2xpY2szKCkgewogICAgICB0aGlzLnRlbXBsYXRlMy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBjb25maXJtVDE6IGZ1bmN0aW9uIGNvbmZpcm1UMSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnRlbXBsYXRlMS50eXBlUGFnZS5zdWJqZWN0SWQgPSB0aGlzLmZvcm0uc3ViamVjdElkOwogICAgICB0aGlzLnRlbXBsYXRlMS50eXBlUGFnZS5zdWdnZXN0VGltZSA9IHRoaXMuZm9ybS5zdWdnZXN0VGltZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wbGF0ZTEudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMudGVtcGxhdGUxLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0ubmFtZSA9ICcnOwogICAgICAgIHRoaXMudGVtcGxhdGUxLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0uc3ViamVjdElkID0gdGhpcy5mb3JtLnN1YmplY3RJZDsgLy8gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLnF1ZXN0aW9uVHlwZT0gdGhpcy5hdXRvUGFnZS50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLnF1ZXN0aW9uVHlwZTsKICAgICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKQoKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBleGFtUGFwZXJBcGkuYXV0byh0aGlzLnRlbXBsYXRlMS50eXBlUGFnZSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHZhciByZSA9IGRhdGEucmVzcG9uc2U7IC8vIHRoaXMuYXV0b2Zvcm0udGl0bGVJdGVtcy5xdWVzdGlvbkl0ZW1zPVtdCgogICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHJlLnRpdGxlSXRlbXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgdmFyIHRtcCA9IHJlLnRpdGxlSXRlbXNbX2kyXS5xdWVzdGlvbkl0ZW1zOwogICAgICAgICAgdmFyIF9zY29yZSA9IHJlLnRpdGxlSXRlbXNbX2kyXS5zY29yZTsKCiAgICAgICAgICBfdGhpczUuZm9ybS50aXRsZUl0ZW1zLnB1c2goewogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgcXVlc3Rpb25JdGVtczogdG1wLAogICAgICAgICAgICBzY29yZTogX3Njb3JlCiAgICAgICAgICB9KTsKICAgICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50aXRsZUl0ZW1zKQoKICAgICAgfSk7IC8vdGhpcy4kcmVmc1snYXV0b1BhZ2UnXS5yZXNldEZpZWxkcygpICAvLyDov5nph4zlj6/ku6XmjaLlgZrnp7vpmaTmoLflvI/nmoTmlrnms5VjbGVhclZhbGlkYXRlCiAgICAgIC8vIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UgPSBjb3B5UHJvcHModGhpcy5hdXRvUGFnZS50eXBlUGFnZSkgIAoKICAgICAgdGhpcy50ZW1wbGF0ZTEuc2hvd0RpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGNvbmZpcm1UMjogZnVuY3Rpb24gY29uZmlybVQyKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMudGVtcGxhdGUyLnR5cGVQYWdlLnN1YmplY3RJZCA9IHRoaXMuZm9ybS5zdWJqZWN0SWQ7CiAgICAgIHRoaXMudGVtcGxhdGUyLnR5cGVQYWdlLnN1Z2dlc3RUaW1lID0gdGhpcy5mb3JtLnN1Z2dlc3RUaW1lOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRlbXBsYXRlMi50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy50ZW1wbGF0ZTIudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5uYW1lID0gJyc7CiAgICAgICAgdGhpcy50ZW1wbGF0ZTIudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5zdWJqZWN0SWQgPSB0aGlzLmZvcm0uc3ViamVjdElkOyAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXNbaV0ucXVlc3Rpb25UeXBlPSB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMucXVlc3Rpb25UeXBlOwogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpCgoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGV4YW1QYXBlckFwaS5hdXRvKHRoaXMudGVtcGxhdGUyLnR5cGVQYWdlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIHJlID0gZGF0YS5yZXNwb25zZTsgLy8gdGhpcy5hdXRvZm9ybS50aXRsZUl0ZW1zLnF1ZXN0aW9uSXRlbXM9W10KCiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgcmUudGl0bGVJdGVtcy5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICB2YXIgdG1wID0gcmUudGl0bGVJdGVtc1tfaTNdLnF1ZXN0aW9uSXRlbXM7CiAgICAgICAgICB2YXIgX3Njb3JlID0gcmUudGl0bGVJdGVtc1tfaTNdLnNjb3JlOwoKICAgICAgICAgIF90aGlzNi5mb3JtLnRpdGxlSXRlbXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICBxdWVzdGlvbkl0ZW1zOiB0bXAsCiAgICAgICAgICAgIHNjb3JlOiBfc2NvcmUKICAgICAgICAgIH0pOwogICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5mb3JtLnRpdGxlSXRlbXMpCgogICAgICB9KTsgLy90aGlzLiRyZWZzWydhdXRvUGFnZSddLnJlc2V0RmllbGRzKCkgIC8vIOi/memHjOWPr+S7peaNouWBmuenu+mZpOagt+W8j+eahOaWueazlWNsZWFyVmFsaWRhdGUKICAgICAgLy8gdGhpcy5hdXRvUGFnZS50eXBlUGFnZSA9IGNvcHlQcm9wcyh0aGlzLmF1dG9QYWdlLnR5cGVQYWdlKSAgCgogICAgICB0aGlzLnRlbXBsYXRlMi5zaG93RGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgY29uZmlybVQzOiBmdW5jdGlvbiBjb25maXJtVDMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2Uuc3ViamVjdElkID0gdGhpcy5mb3JtLnN1YmplY3RJZDsKICAgICAgdGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2Uuc3VnZ2VzdFRpbWUgPSB0aGlzLmZvcm0uc3VnZ2VzdFRpbWU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGVtcGxhdGUzLnR5cGVQYWdlLnF1ZXN0aW9uU2VsZWN0SXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnRlbXBsYXRlMy50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLm5hbWUgPSAnJzsKICAgICAgICB0aGlzLnRlbXBsYXRlMy50eXBlUGFnZS5xdWVzdGlvblNlbGVjdEl0ZW1zW2ldLnN1YmplY3RJZCA9IHRoaXMuZm9ybS5zdWJqZWN0SWQ7IC8vIHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtc1tpXS5xdWVzdGlvblR5cGU9IHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UucXVlc3Rpb25TZWxlY3RJdGVtcy5xdWVzdGlvblR5cGU7CiAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5hdXRvUGFnZS50eXBlUGFnZSkKCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZXhhbVBhcGVyQXBpLmF1dG8odGhpcy50ZW1wbGF0ZTMudHlwZVBhZ2UpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgcmUgPSBkYXRhLnJlc3BvbnNlOyAvLyB0aGlzLmF1dG9mb3JtLnRpdGxlSXRlbXMucXVlc3Rpb25JdGVtcz1bXQoKICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCByZS50aXRsZUl0ZW1zLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICAgIHZhciB0bXAgPSByZS50aXRsZUl0ZW1zW19pNF0ucXVlc3Rpb25JdGVtczsKICAgICAgICAgIHZhciBfc2NvcmUgPSByZS50aXRsZUl0ZW1zW19pNF0uc2NvcmU7CgogICAgICAgICAgX3RoaXM3LmZvcm0udGl0bGVJdGVtcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIHF1ZXN0aW9uSXRlbXM6IHRtcCwKICAgICAgICAgICAgc2NvcmU6IF9zY29yZQogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0udGl0bGVJdGVtcykKCiAgICAgIH0pOyAvL3RoaXMuJHJlZnNbJ2F1dG9QYWdlJ10ucmVzZXRGaWVsZHMoKSAgLy8g6L+Z6YeM5Y+v5Lul5o2i5YGa56e76Zmk5qC35byP55qE5pa55rOVY2xlYXJWYWxpZGF0ZQogICAgICAvLyB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlID0gY29weVByb3BzKHRoaXMuYXV0b1BhZ2UudHlwZVBhZ2UpICAKCiAgICAgIHRoaXMudGVtcGxhdGUzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBsZXZlbENoYW5nZTogZnVuY3Rpb24gbGV2ZWxDaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnN1YmplY3RJZCA9IG51bGw7CiAgICAgIHRoaXMuc3ViamVjdEZpbHRlciA9IHRoaXMuc3ViamVjdHMuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIGRhdGEubGV2ZWwgPT09IF90aGlzOC5mb3JtLmxldmVsOwogICAgICB9KTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5xdWVyeVBhcmFtLnN1YmplY3RJZCA9IHRoaXMuZm9ybS5zdWJqZWN0SWQ7CiAgICAgIHRoaXMucXVlc3Rpb25QYWdlLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgcXVlc3Rpb25BcGkucGFnZUxpc3QodGhpcy5xdWVzdGlvblBhZ2UucXVlcnlQYXJhbSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHZhciByZSA9IGRhdGEucmVzcG9uc2U7CiAgICAgICAgX3RoaXM5LnF1ZXN0aW9uUGFnZS50YWJsZURhdGEgPSByZS5saXN0OwogICAgICAgIF90aGlzOS5xdWVzdGlvblBhZ2UudG90YWwgPSByZS50b3RhbDsKICAgICAgICBfdGhpczkucXVlc3Rpb25QYWdlLnF1ZXJ5UGFyYW0ucGFnZUluZGV4ID0gcmUucGFnZU51bTsKICAgICAgICBfdGhpczkucXVlc3Rpb25QYWdlLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXN0aW9uUGFnZS5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgIH0sCiAgICBxdWVzdGlvblR5cGVGb3JtYXR0ZXI6IGZ1bmN0aW9uIHF1ZXN0aW9uVHlwZUZvcm1hdHRlcihyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5lbnVtRm9ybWF0KHRoaXMucXVlc3Rpb25UeXBlRW51bSwgY2VsbFZhbHVlKTsKICAgIH0sCiAgICBzdWJqZWN0Rm9ybWF0dGVyOiBmdW5jdGlvbiBzdWJqZWN0Rm9ybWF0dGVyKHJvdywgY29sdW1uLCBjZWxsVmFsdWUsIGluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLnN1YmplY3RFbnVtRm9ybWF0KGNlbGxWYWx1ZSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbGV2ZWw6IG51bGwsCiAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICBsaW1pdERhdGVUaW1lOiBbXSwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzdWdnZXN0VGltZTogbnVsbCwKICAgICAgICB0aXRsZUl0ZW1zOiBbXQogICAgICB9OwogICAgICB0aGlzLmF1dG9QYWdlLnR5cGVQYWdlID0gewogICAgICAgIHR5cGVJdGVtczogW3sKICAgICAgICAgIG51bTogbnVsbCwKICAgICAgICAgIGxldmVsOiBudWxsLAogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICB0eXBlSXRlbXM6IFtdCiAgICAgICAgfV0sCiAgICAgICAgc3ViamVjdElkOiBudWxsLAogICAgICAgIHBhcGVyVHlwZTogMSwKICAgICAgICBsaW1pdERhdGVUaW1lOiBudWxsLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHN1Z2dlc3RUaW1lOiBudWxsLAogICAgICAgIHF1ZXN0aW9uU2VsZWN0SXRlbXM6IFt7CiAgICAgICAgICBudW06IG51bGwsCiAgICAgICAgICBsZXZlbDogbnVsbCwKICAgICAgICAgIHN1YmplY3RJZDogbnVsbCwKICAgICAgICAgIHF1ZXN0aW9uVHlwZTogbnVsbAogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgfSwgbWFwQWN0aW9ucygnZXhhbScsIHsKICAgIGluaXRTdWJqZWN0OiAnaW5pdFN1YmplY3QnCiAgfSkpLCBtYXBBY3Rpb25zKCd0YWdzVmlldycsIHsKICAgIGRlbEN1cnJlbnRWaWV3OiAnZGVsQ3VycmVudFZpZXcnCiAgfSkpLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCdlbnVtSXRlbScsIFsnZW51bUZvcm1hdCddKSksIG1hcFN0YXRlKCdlbnVtSXRlbScsIHsKICAgIHF1ZXN0aW9uVHlwZUVudW06IGZ1bmN0aW9uIHF1ZXN0aW9uVHlwZUVudW0oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmV4YW0ucXVlc3Rpb24udHlwZUVudW07CiAgICB9LAogICAgcGFwZXJUeXBlRW51bTogZnVuY3Rpb24gcGFwZXJUeXBlRW51bShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXhhbS5leGFtUGFwZXIucGFwZXJUeXBlRW51bTsKICAgIH0sCiAgICBsZXZlbEVudW06IGZ1bmN0aW9uIGxldmVsRW51bShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci5sZXZlbEVudW07CiAgICB9CiAgfSkpLCBtYXBTdGF0ZSgnZXhhbScsIHsKICAgIHN1YmplY3RzOiBmdW5jdGlvbiBzdWJqZWN0cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3ViamVjdHM7CiAgICB9CiAgfSkpLCB7fSwgewogICAgLyptYXhWYWx1ZSgpewogICAgICByZXR1cm4gJ+acgOWkmui+k+WFpScrdGhpcy5xdWVzdGlvblBhZ2UudG90YWwKICAgIH0sCiAgICAqLwogICAgLy/nm5HlkKzlr7nosaHlsZ7mgKflj5jljJYKICAgIHRpdGxlSXRlbXM6IGZ1bmN0aW9uIHRpdGxlSXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm0udGl0bGVJdGVtczsKICAgIH0sCiAgICBzY29yZXM6IGZ1bmN0aW9uIHNjb3JlcygpIHsKICAgICAgdmFyIHNjb3JlcyA9IDA7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50aXRsZUl0ZW1zLmxlbmd0aCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50aXRsZUl0ZW1zKTsKCiAgICAgIGlmICh0aGlzLmZvcm0udGl0bGVJdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKHRoaXMuZm9ybS50aXRsZUl0ZW1zWzBdLnF1ZXN0aW9uSXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgc2NvcmVzID0gMDsKICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3Jlcyk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZvcm0udGl0bGVJdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgc2NvcmUgPSBOdW1iZXIodGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0uc2NvcmUpOwogICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5mb3JtLnRpdGxlSXRlbXNbaV0ucXVlc3Rpb25JdGVtcy5sZW5ndGg7IC8vIGNvbnNvbGUubG9nKHNjb3JlKmxlbik7CgogICAgICAgICAgICB2YXIgc3VtID0gc2NvcmUgKiBsZW47CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxlbik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKTsKICAgICAgICAgICAgc2NvcmVzID0gc2NvcmVzICsgc3VtOwogICAgICAgICAgICBjb25zb2xlLmxvZyhzY29yZXMpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuZm9ybS5zY29yZXMgPSBzY29yZXM7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc2NvcmVzOwogICAgfQogIH0pCn07"},null]}