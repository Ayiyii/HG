{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/user/teacher/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/views/user/teacher/edit.vue","mtime":1609922416771},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2N5bnRoaWFjaGVuL3Byb2plY3QvZ3JhZHVhdGlvbl9kZXNpZ24veHpzL3h6cy1teXNxbC9zb3VyY2UvdnVlL3h6cy1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB1c2VyQXBpIGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJlYWxOYW1lOiAnJywKICAgICAgICByb2xlOiAyLAogICAgICAgIHN0YXR1czogMSwKICAgICAgICBhZ2U6ICcnLAogICAgICAgIHNleDogJycsCiAgICAgICAgYmlydGhEYXk6IG51bGwsCiAgICAgICAgcGhvbmU6IG51bGwKICAgICAgfSwKICAgICAgZm9ybUxvYWRpbmc6IGZhbHNlLAogICAgICBydWxlczogewogICAgICAgIHVzZXJOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJlYWxOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55yf5a6e5aeT5ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAoaWQgJiYgcGFyc2VJbnQoaWQpICE9PSAwKSB7CiAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdXNlckFwaS5zZWxlY3RVc2VyKGlkKS50aGVuKGZ1bmN0aW9uIChyZSkgewogICAgICAgIF90aGlzLmZvcm0gPSByZS5yZXNwb25zZTsKICAgICAgICBfdGhpcy5mb3JtTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMyLmZvcm1Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHVzZXJBcGkuY3JlYXRlVXNlcihfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAxKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICBfdGhpcy5kZWxDdXJyZW50VmlldyhfdGhpcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy91c2VyL3RlYWNoZXIvbGlzdCcpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CgogICAgICAgICAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLmZvcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgdXNlck5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICByZWFsTmFtZTogJycsCiAgICAgICAgcm9sZTogMiwKICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgYWdlOiAnJywKICAgICAgICBzZXg6ICcnLAogICAgICAgIGJpcnRoRGF5OiBudWxsLAogICAgICAgIHBob25lOiBudWxsCiAgICAgIH07CiAgICB9CiAgfSwgbWFwQWN0aW9ucygndGFnc1ZpZXcnLCB7CiAgICBkZWxDdXJyZW50VmlldzogJ2RlbEN1cnJlbnRWaWV3JwogIH0pKSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCdlbnVtSXRlbScsIFsnZW51bUZvcm1hdCddKSksIG1hcFN0YXRlKCdlbnVtSXRlbScsIHsKICAgIHNleEVudW06IGZ1bmN0aW9uIHNleEVudW0oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIuc2V4RW51bTsKICAgIH0sCiAgICByb2xlRW51bTogZnVuY3Rpb24gcm9sZUVudW0oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIucm9sZUVudW07CiAgICB9LAogICAgc3RhdHVzRW51bTogZnVuY3Rpb24gc3RhdHVzRW51bShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci5zdGF0dXNFbnVtOwogICAgfQogIH0pKQp9Ow=="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-form :model=\"form\" ref=\"form\" label-width=\"100px\" v-loading=\"formLoading\" :rules=\"rules\">\n      <el-form-item label=\"用户名：\"  prop=\"userName\" required>\n        <el-input v-model=\"form.userName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码：\" required>\n        <el-input v-model=\"form.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"真实姓名：\"  prop=\"realName\"  required>\n        <el-input v-model=\"form.realName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"年龄：\">\n        <el-input v-model=\"form.age\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"性别：\">\n        <el-select v-model=\"form.sex\" placeholder=\"性别\" clearable>\n          <el-option v-for=\"item in sexEnum\" :key=\"item.key\" :value=\"item.key\" :label=\"item.value\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"出生日期：\">\n        <el-date-picker v-model=\"form.birthDay\" value-format=\"yyyy-MM-dd\" type=\"date\" placeholder=\"选择日期\" />\n      </el-form-item>\n      <el-form-item label=\"手机：\">\n        <el-input v-model=\"form.phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"状态：\" required>\n        <el-select v-model=\"form.status\" placeholder=\"状态\">\n          <el-option v-for=\"item in statusEnum\" :key=\"item.key\" :value=\"item.key\" :label=\"item.value\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\n        <el-button @click=\"resetForm\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState, mapActions } from 'vuex'\nimport userApi from '@/api/user'\n\nexport default {\n  data () {\n    return {\n      form: {\n        id: null,\n        userName: '',\n        password: '',\n        realName: '',\n        role: 2,\n        status: 1,\n        age: '',\n        sex: '',\n        birthDay: null,\n        phone: null\n      },\n      formLoading: false,\n      rules: {\n        userName: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        realName: [\n          { required: true, message: '请输入真实姓名', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created () {\n    let id = this.$route.query.id\n    let _this = this\n    if (id && parseInt(id) !== 0) {\n      _this.formLoading = true\n      userApi.selectUser(id).then(re => {\n        _this.form = re.response\n        _this.formLoading = false\n      })\n    }\n  },\n  methods: {\n    submitForm () {\n      let _this = this\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.formLoading = true\n          userApi.createUser(this.form).then(data => {\n            if (data.code === 1) {\n              _this.$message.success(data.message)\n              _this.delCurrentView(_this).then(() => {\n                _this.$router.push('/user/teacher/list')\n              })\n            } else {\n              _this.$message.error(data.message)\n              _this.formLoading = false\n            }\n          }).catch(e => {\n            _this.formLoading = false\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    resetForm () {\n      this.$refs['form'].resetFields()\n      this.form = {\n        id: null,\n        userName: '',\n        password: '',\n        realName: '',\n        role: 2,\n        status: 1,\n        age: '',\n        sex: '',\n        birthDay: null,\n        phone: null\n      }\n    },\n    ...mapActions('tagsView', { delCurrentView: 'delCurrentView' })\n  },\n  computed: {\n    ...mapGetters('enumItem', [\n      'enumFormat'\n    ]),\n    ...mapState('enumItem', {\n      sexEnum: state => state.user.sexEnum,\n      roleEnum: state => state.user.roleEnum,\n      statusEnum: state => state.user.statusEnum\n    })\n  }\n}\n</script>\n"],"sourceRoot":"src/views/user/teacher"}]}