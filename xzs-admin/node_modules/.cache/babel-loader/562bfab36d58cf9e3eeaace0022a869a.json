{"remainingRequest":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/utils/request.js","dependencies":[{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/utils/request.js","mtime":1609922416762},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB2dWUgZnJvbSAndnVlJzsKCnZhciByZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChsb2FkdGlwLCBxdWVyeSkgewogIHZhciBsb2FkaW5nOwoKICBpZiAobG9hZHRpcCkgewogICAgbG9hZGluZyA9IHZ1ZS5wcm90b3R5cGUuJGxvYWRpbmcoewogICAgICBsb2NrOiBmYWxzZSwKICAgICAgdGV4dDogJ+ato+WcqOWKoOi9veS4reKApicsCiAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjUpJwogICAgfSk7CiAgfQoKICByZXR1cm4gYXhpb3MucmVxdWVzdChxdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBpZiAobG9hZHRpcCkgewogICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICB9CgogICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDQwMSkgewogICAgICB2dWUucHJvdG90eXBlLiQkcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLmRhdGEpOwogICAgfSBlbHNlIGlmIChyZXMuZGF0YS5jb2RlID09PSA1MDApIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5kYXRhKTsKICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PT0gNTAxKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YSk7CiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDUwMikgewogICAgICB2dWUucHJvdG90eXBlLiQkcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLmRhdGEpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMuZGF0YSk7CiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgIGlmIChsb2FkdGlwKSB7CiAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgIH0KCiAgICB2dWUucHJvdG90eXBlLiRtZXNzYWdlLmVycm9yKGUubWVzc2FnZSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZS5tZXNzYWdlKTsKICB9KTsKfTsKCnZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtcykgewogIHZhciBxdWVyeSA9IHsKICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLAogICAgdXJsOiB1cmwsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAgIHRpbWVvdXQ6IDMwMDAwLAogICAgZGF0YTogcGFyYW1zLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAncmVxdWVzdC1hamF4JzogdHJ1ZQogICAgfQogIH07CiAgcmV0dXJuIHJlcXVlc3QoZmFsc2UsIHF1ZXJ5KTsKfTsKCnZhciBwb3N0V2l0aExvYWRUaXAgPSBmdW5jdGlvbiBwb3N0V2l0aExvYWRUaXAodXJsLCBwYXJhbXMpIHsKICB2YXIgcXVlcnkgPSB7CiAgICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICAgIHVybDogdXJsLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICB0aW1lb3V0OiAzMDAwMCwKICAgIGRhdGE6IHBhcmFtcywKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgJ3JlcXVlc3QtYWpheCc6IHRydWUKICAgIH0KICB9OwogIHJldHVybiByZXF1ZXN0KHRydWUsIHF1ZXJ5KTsKfTsKCnZhciBwb3N0V2l0aE91dExvYWRUaXAgPSBmdW5jdGlvbiBwb3N0V2l0aE91dExvYWRUaXAodXJsLCBwYXJhbXMpIHsKICB2YXIgcXVlcnkgPSB7CiAgICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICAgIHVybDogdXJsLAogICAgbWV0aG9kOiAncG9zdCcsCiAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICB0aW1lb3V0OiAzMDAwMCwKICAgIGRhdGE6IHBhcmFtcywKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgJ3JlcXVlc3QtYWpheCc6IHRydWUKICAgIH0KICB9OwogIHJldHVybiByZXF1ZXN0KGZhbHNlLCBxdWVyeSk7Cn07Cgp2YXIgZ2V0ID0gZnVuY3Rpb24gZ2V0KHVybCwgcGFyYW1zKSB7CiAgdmFyIHF1ZXJ5ID0gewogICAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwsCiAgICB1cmw6IHVybCwKICAgIG1ldGhvZDogJ2dldCcsCiAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICB0aW1lb3V0OiAzMDAwMCwKICAgIHBhcmFtczogcGFyYW1zLAogICAgaGVhZGVyczogewogICAgICAncmVxdWVzdC1hamF4JzogdHJ1ZQogICAgfQogIH07CiAgcmV0dXJuIHJlcXVlc3QoZmFsc2UsIHF1ZXJ5KTsKfTsKCnZhciBmb3JtID0gZnVuY3Rpb24gZm9ybSh1cmwsIHBhcmFtcykgewogIHZhciBxdWVyeSA9IHsKICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLAogICAgdXJsOiB1cmwsCiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAgIHRpbWVvdXQ6IDMwMDAwLAogICAgZGF0YTogcGFyYW1zLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnLAogICAgICAncmVxdWVzdC1hamF4JzogdHJ1ZQogICAgfQogIH07CiAgcmV0dXJuIHJlcXVlc3QoZmFsc2UsIHF1ZXJ5KTsKfTsKCmV4cG9ydCB7IHBvc3QsIHBvc3RXaXRoTG9hZFRpcCwgcG9zdFdpdGhPdXRMb2FkVGlwLCBnZXQsIGZvcm0gfTs="},{"version":3,"sources":["/Users/cynthiachen/project/graduation_design/xzs/xzs-mysql/source/vue/xzs-admin/src/utils/request.js"],"names":["axios","vue","request","loadtip","query","loading","prototype","$loading","lock","text","spinner","background","then","res","close","data","code","$$router","push","path","Promise","reject","resolve","catch","e","$message","error","message","post","url","params","baseURL","process","env","VUE_APP_URL","method","withCredentials","timeout","headers","postWithLoadTip","postWithOutLoadTip","get","form"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport vue from 'vue'\n\nconst request = function (loadtip, query) {\n  let loading\n  if (loadtip) {\n    loading = vue.prototype.$loading({\n      lock: false,\n      text: '正在加载中…',\n      spinner: 'el-icon-loading',\n      background: 'rgba(0, 0, 0, 0.5)'\n    })\n  }\n  return axios.request(query)\n    .then(res => {\n      if (loadtip) {\n        loading.close()\n      }\n      if (res.data.code === 401) {\n        vue.prototype.$$router.push({ path: '/login' })\n        return Promise.reject(res.data)\n      } else if (res.data.code === 500) {\n        return Promise.reject(res.data)\n      } else if (res.data.code === 501) {\n        return Promise.reject(res.data)\n      } else if (res.data.code === 502) {\n        vue.prototype.$$router.push({ path: '/login' })\n        return Promise.reject(res.data)\n      } else {\n        return Promise.resolve(res.data)\n      }\n    })\n    .catch(e => {\n      if (loadtip) {\n        loading.close()\n      }\n      vue.prototype.$message.error(e.message)\n      return Promise.reject(e.message)\n    })\n}\n\nconst post = function (url, params) {\n  const query = {\n    baseURL: process.env.VUE_APP_URL,\n    url: url,\n    method: 'post',\n    withCredentials: true,\n    timeout: 30000,\n    data: params,\n    headers: { 'Content-Type': 'application/json', 'request-ajax': true }\n  }\n  return request(false, query)\n}\n\nconst postWithLoadTip = function (url, params) {\n  const query = {\n    baseURL: process.env.VUE_APP_URL,\n    url: url,\n    method: 'post',\n    withCredentials: true,\n    timeout: 30000,\n    data: params,\n    headers: { 'Content-Type': 'application/json', 'request-ajax': true }\n  }\n  return request(true, query)\n}\n\nconst postWithOutLoadTip = function (url, params) {\n  const query = {\n    baseURL: process.env.VUE_APP_URL,\n    url: url,\n    method: 'post',\n    withCredentials: true,\n    timeout: 30000,\n    data: params,\n    headers: { 'Content-Type': 'application/json', 'request-ajax': true }\n  }\n  return request(false, query)\n}\n\nconst get = function (url, params) {\n  const query = {\n    baseURL: process.env.VUE_APP_URL,\n    url: url,\n    method: 'get',\n    withCredentials: true,\n    timeout: 30000,\n    params: params,\n    headers: { 'request-ajax': true }\n  }\n  return request(false, query)\n}\n\nconst form = function (url, params) {\n  const query = {\n    baseURL: process.env.VUE_APP_URL,\n    url: url,\n    method: 'post',\n    withCredentials: true,\n    timeout: 30000,\n    data: params,\n    headers: { 'Content-Type': 'multipart/form-data', 'request-ajax': true }\n  }\n  return request(false, query)\n}\n\nexport {\n  post,\n  postWithLoadTip,\n  postWithOutLoadTip,\n  get,\n  form\n}\n"]}]}